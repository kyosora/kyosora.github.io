<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"kyosora.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.25.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":null},"fold":{"enable":true,"height":500},"language":false},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜尋...","empty":"我們無法找到任何有關 ${query} 的搜索結果","hits_time":"找到 ${hits} 個搜索結果（用時 ${time} 毫秒）","hits":"找到 ${hits} 個搜索結果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="個人技術筆記和學習心得分享">
<meta property="og:type" content="website">
<meta property="og:title" content="kyosora 虛空筆記">
<meta property="og:url" content="https://kyosora.github.io/">
<meta property="og:site_name" content="kyosora 虛空筆記">
<meta property="og:description" content="個人技術筆記和學習心得分享">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="kyosora">
<meta property="article:tag" content="網路安全, 系統管理, 程式設計, 技術筆記">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://kyosora.github.io/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-TW","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>kyosora 虛空筆記</title>
  





  <script class="next-config" data-name="matomo" type="application/json">{"enable":true,"server_url":null,"site_id":null}</script>
  <script src="/js/third-party/analytics/matomo.js" defer></script>

  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdnjs.cloudflare.com/ajax/libs/ribbon.js/1.0.2/ribbon.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/comments.js" defer></script><script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/algoliasearch/5.36.0/lite/builds/browser.umd.js" integrity="sha256-o49zoHLDPBm9WLg6AiliAVi3axCRTqe3ltTxLvhzAVg=" crossorigin="anonymous" defer></script><script src="/js/third-party/search/algolia-search.js" defer></script>
<script class="next-config" data-name="chatra" type="application/json">{"enable":true,"async":true,"id":null}</script>
<script src="/js/third-party/chat/chatra.js" defer></script>
<script async src="https://call.chatra.io/chatra.js"></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.10.1/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>

  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/wavedrom.min.js","integrity":"sha256-INLAoJc6quTNfiMWkGZniYO2cxE8mHpddnLow1m6RFs="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/js/third-party/tags/wavedrom.js" defer></script>


  <script src="/js/third-party/pace.js" defer></script>

  <script src="/js/third-party/addtoany.js" defer></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/12.2.1/firebase-app-compat.js" integrity="sha256-d21UgtIcA6c6qwr8nWk6lxs/KrpbWhknQN7qBjWA2Kk=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/12.2.1/firebase-firestore-compat.js" integrity="sha256-leHatffkFuVGIg7ABaA5BDsqsEUtktL4tftb3OdQfg0=" crossorigin="anonymous" defer></script>
  <script class="next-config" data-name="firestore" type="application/json">{"enable":true,"collection":"articles","apiKey":null,"projectId":null}</script>
  <script src="/js/third-party/statistics/firestore.js" defer></script>



  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js" defer></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/quicklink/3.0.1/quicklink.umd.js" integrity="sha256-44BednzIpUeQJcY8qtLyarFu0UCCTbgmWOvaoehiFQQ=" crossorigin="anonymous" defer></script>
  <script class="next-config" data-name="quicklink" type="application/json">{"enable":false,"home":false,"archive":false,"delay":true,"timeout":3000,"priority":true,"url":"https://kyosora.github.io/"}</script>
  <script src="/js/third-party/quicklink.js" defer></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">kyosora 虛空筆記</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">技術探索與學習分享</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜尋" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜尋..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fab fa-algolia fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">kyosora</p>
  <div class="site-description" itemprop="description">個人技術筆記和學習心得分享</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">110</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">分類</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">155</span>
        <span class="site-state-item-name">標籤</span>
      </div>
  </nav>
</div>
  <div class="sidebar-button animated">
    <button><i class="fa fa-comment"></i>
      聊天
    </button>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">告別需求地獄：這個MCP工具讓你的開發流程終於有章法了</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-09-10 15:30:00 / 修改時間：18:21:08" itemprop="dateCreated datePublished" datetime="2025-09-10T15:30:00+08:00">2025-09-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%96%8B%E7%99%BC%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">開發工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%96%8B%E7%99%BC%E5%B7%A5%E5%85%B7/%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">專案管理</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>1.7k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言：你是否也深陷「需求變更地獄」？"><a href="#前言：你是否也深陷「需求變更地獄」？" class="headerlink" title="前言：你是否也深陷「需求變更地獄」？"></a>前言：你是否也深陷「需求變更地獄」？</h2><p>身為工程師，你是否遇過這種狀況：PM 拍拍肩膀說「這功能很簡單，兩天就能做完吧？」結果兩週後你還在改 bug，因為需求根本沒講清楚？</p>
<p>或是專案開發到一半，突然有人問「這個功能為什麼要這樣設計？」然後你發現...根本沒有人記得當初的設計理念？</p>
<p>如果以上情境讓你會心一笑（或想哭），那麼 <code>spec-workflow-mcp</code> 這個工具絕對值得你關注。</p>
<h2 id="什麼是-Spec-Workflow-MCP？"><a href="#什麼是-Spec-Workflow-MCP？" class="headerlink" title="什麼是 Spec Workflow MCP？"></a>什麼是 Spec Workflow MCP？</h2><p>Spec Workflow MCP 是一個專門為軟體開發設計的<strong>規格驅動工作流管理工具</strong>。簡單來說，它就是要解決一個核心問題：<strong>讓開發團隊在寫程式之前，先把要做什麼搞清楚</strong>。</p>
<p>這個工具遵循一個很簡單但有效的三階段流程：</p>
<ol>
<li><strong>Requirements（需求）</strong> - 確定要做什麼</li>
<li><strong>Design（設計）</strong> - 決定怎麼做  </li>
<li><strong>Tasks（任務）</strong> - 拆解執行步驟</li>
</ol>
<p>聽起來很理所當然對吧？但現實是，大部分專案都是直接跳到第三步開始寫程式，然後在需求不明確的泥沼中掙扎。</p>
<h2 id="核心功能一覽"><a href="#核心功能一覽" class="headerlink" title="核心功能一覽"></a>核心功能一覽</h2><h3 id="🖥️-雙介面支援，開發者友善"><a href="#🖥️-雙介面支援，開發者友善" class="headerlink" title="🖥️ 雙介面支援，開發者友善"></a>🖥️ 雙介面支援，開發者友善</h3><p><strong>Web Dashboard</strong></p>
<ul>
<li>即時專案總覽，一眼掌握進度</li>
<li>文件檢視器，所有規格文件集中管理</li>
<li>任務進度追蹤，不再漏掉任何細節</li>
</ul>
<p><strong>VSCode Extension</strong></p>
<ul>
<li>編輯器內整合，不用切換視窗</li>
<li>原生對話框支援</li>
<li>右鍵選單快速操作</li>
<li>甚至還有聲音通知（適合重度 VSCode 用戶）</li>
</ul>
<h3 id="📋-結構化的開發流程"><a href="#📋-結構化的開發流程" class="headerlink" title="📋 結構化的開發流程"></a>📋 結構化的開發流程</h3><p>這個工具最棒的地方，就是強制你按照邏輯順序進行開發：</p>
<ol>
<li><strong>先寫需求文件</strong> - 這個功能要解決什麼問題？使用者會如何使用？</li>
<li><strong>再寫設計文件</strong> - 技術架構怎麼規劃？資料庫怎麼設計？API 怎麼定義？</li>
<li><strong>最後拆分任務</strong> - 具體要寫哪些程式？測試案例有哪些？</li>
</ol>
<p>每個階段都可以經過審核確認，避免後續大改的悲劇。</p>
<h3 id="🌍-多語言支援"><a href="#🌍-多語言支援" class="headerlink" title="🌍 多語言支援"></a>🌍 多語言支援</h3><p>支援包括中文在內的 11 種語言，真正的國際化工具。</p>
<h2 id="為什麼你需要這個工具？"><a href="#為什麼你需要這個工具？" class="headerlink" title="為什麼你需要這個工具？"></a>為什麼你需要這個工具？</h2><h3 id="解決真實存在的開發痛點"><a href="#解決真實存在的開發痛點" class="headerlink" title="解決真實存在的開發痛點"></a>解決真實存在的開發痛點</h3><p><strong>痛點 1：需求不明確</strong></p>
<ul>
<li>以前：「這功能怎麼做？」「我也不知道，先寫看看吧」</li>
<li>現在：強制要求先寫需求文件，釐清所有細節</li>
</ul>
<p><strong>痛點 2：設計缺失</strong></p>
<ul>
<li>以前：寫到一半發現架構有問題，只能重新來</li>
<li>現在：設計階段就把技術細節想清楚</li>
</ul>
<p><strong>痛點 3：任務優先級混亂</strong></p>
<ul>
<li>以前：不知道先做哪個功能，東改西改沒效率</li>
<li>現在：任務清單一目瞭然，按重要性排序</li>
</ul>
<h3 id="團隊協作更順暢"><a href="#團隊協作更順暢" class="headerlink" title="團隊協作更順暢"></a>團隊協作更順暢</h3><p>當所有人都看著同一份規格文件工作時，溝通成本大幅降低。不會再有「我以為你知道我知道」的尷尬情況。</p>
<h2 id="實際使用場景"><a href="#實際使用場景" class="headerlink" title="實際使用場景"></a>實際使用場景</h2><h3 id="情境一：新功能開發"><a href="#情境一：新功能開發" class="headerlink" title="情境一：新功能開發"></a>情境一：新功能開發</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. PM 提出需求 → 寫需求文件</span><br><span class="line">2. Tech Lead 評估 → 寫設計文件</span><br><span class="line">3. 開發團隊 → 拆分具體任務</span><br><span class="line">4. 逐步實作 → 追蹤進度</span><br></pre></td></tr></table></figure>

<h3 id="情境二：既有專案維護"><a href="#情境二：既有專案維護" class="headerlink" title="情境二：既有專案維護"></a>情境二：既有專案維護</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. 發現 Bug → 分析根本原因（需求？設計？實作？）</span><br><span class="line">2. 更新對應文件</span><br><span class="line">3. 修正程式碼</span><br><span class="line">4. 確保文件與程式碼同步</span><br></pre></td></tr></table></figure>

<h2 id="安裝與設定"><a href="#安裝與設定" class="headerlink" title="安裝與設定"></a>安裝與設定</h2><p>如果你使用 Claude Code，安裝超簡單：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">claude mcp add spec-workflow-mcp -s user -- npx -y spec-workflow-mcp@latest</span><br></pre></td></tr></table></figure>

<p>安裝完成後，你就可以在 Claude Code 中直接使用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化新專案</span></span><br><span class="line">mcp specs-workflow init <span class="string">&quot;My New Feature&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看專案狀態</span></span><br><span class="line">mcp specs-workflow check</span><br><span class="line"></span><br><span class="line"><span class="comment"># 標記任務完成</span></span><br><span class="line">mcp specs-workflow complete_task <span class="string">&quot;implement-user-auth&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="個人使用心得"><a href="#個人使用心得" class="headerlink" title="個人使用心得"></a>個人使用心得</h2><p>我使用這個工具幾週下來，最大的感受是：<strong>開發變得有節奏了</strong>。</p>
<p>以前寫程式常常有種「不知道自己在幹嘛」的焦慮感，現在每個階段都有明確的目標和檢查點，心理壓力小很多。</p>
<p>而且當有人問「這個功能為什麼要這樣設計？」時，不用再憑記憶回答，直接翻文件就好。這種感覺真的很爽。</p>
<h2 id="結論"><a href="#結論" class="headerlink" title="結論"></a>結論</h2><p>Spec Workflow MCP 不是又一個複雜的專案管理工具，它專注做好一件事：<strong>讓開發團隊有系統地思考和記錄</strong>。</p>
<p>如果你正在為混亂的開發流程所苦，或是想讓團隊協作更有效率，真的建議試試看這個工具。</p>
<p>畢竟，與其在寫完程式後才發現需求理解錯誤，不如一開始就把事情想清楚。你說對吧？</p>
<hr>
<p><em>工具連結：<a target="_blank" rel="noopener" href="https://github.com/Pimzino/spec-workflow-mcp">spec-workflow-mcp GitHub</a></em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">當 IIS 遇到代理伺服器：如何在複雜網路環境下實現真實 IP 白名單控制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2025-07-01 15:30:00" itemprop="dateCreated datePublished" datetime="2025-07-01T15:30:00+08:00">2025-07-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2025-07-03 09:50:56" itemprop="dateModified" datetime="2025-07-03T09:50:56+08:00">2025-07-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Web-Development/" itemprop="url" rel="index"><span itemprop="name">Web Development</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Web-Development/Infrastructure/" itemprop="url" rel="index"><span itemprop="name">Infrastructure</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>3.7k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>3 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前情提要：突如其來的測試環境危機"><a href="#前情提要：突如其來的測試環境危機" class="headerlink" title="前情提要：突如其來的測試環境危機"></a>前情提要：突如其來的測試環境危機</h2><p>最近台電因為白帽滲透測試的關係，需要暫時關閉測試機。但開發團隊偶爾還是需要測試環境來驗證功能，於是我們決定把程式架在其他環境上。原本想說簡單設個 IIS IP 白名單就能解決，沒想到踩到了一個大坑...</p>
<h2 id="問題出現：IP-白名單完全失效"><a href="#問題出現：IP-白名單完全失效" class="headerlink" title="問題出現：IP 白名單完全失效"></a>問題出現：IP 白名單完全失效</h2><p>當我興高采烈地在 IIS 管理器中設定「IP 位址及網域限制」，把信任的 IP 加入白名單後，發現一個詭異的現象：</p>
<ul>
<li>設定為「允許所有」→ 正常運作 ✅</li>
<li>設定為「拒絕未指定，只允許白名單」→ 所有人都 403 錯誤 ❌</li>
</ul>
<p>檢查 IIS Log 後發現真相大白：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c-ip: 192.168.0.28  # 所有請求都顯示這個 IP！</span><br></pre></td></tr></table></figure>

<p>原來所有外部請求都是透過 <code>192.168.0.28</code> 這台 Proxy Relay 伺服器轉發過來的。IIS 只看得到代理伺服器的 IP，完全拿不到真實的客戶端 IP。</p>
<h2 id="深入追查：尋找真實-IP-的蹤跡"><a href="#深入追查：尋找真實-IP-的蹤跡" class="headerlink" title="深入追查：尋找真實 IP 的蹤跡"></a>深入追查：尋找真實 IP 的蹤跡</h2><p>建立一個簡單的測試頁面來檢查所有可能的 HTTP 標頭：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language=&quot;C#&quot; %&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;&lt;title&gt;IP 偵測&lt;/title&gt;&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">    Response.Write(&quot;REMOTE_ADDR: &quot; + Request.ServerVariables[&quot;REMOTE_ADDR&quot;] + &quot;&lt;br&gt;&quot;);</span><br><span class="line">    Response.Write(&quot;HTTP_X_FORWARDED_FOR: &quot; + Request.ServerVariables[&quot;HTTP_X_FORWARDED_FOR&quot;] + &quot;&lt;br&gt;&quot;);</span><br><span class="line">    Response.Write(&quot;HTTP_X_REAL_IP: &quot; + Request.ServerVariables[&quot;HTTP_X_REAL_IP&quot;] + &quot;&lt;br&gt;&quot;);</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>測試結果發現關鍵線索：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">REMOTE_ADDR: 192.168.0.28</span><br><span class="line">HTTP_X_FORWARDED_FOR: 125.228.130.66:12872</span><br></pre></td></tr></table></figure>

<p>太好了！代理伺服器有正確傳送真實 IP，只是格式是 <code>IP:PORT</code>。</p>
<h2 id="解決方案一：URL-Rewrite-改寫-REMOTE-ADDR"><a href="#解決方案一：URL-Rewrite-改寫-REMOTE-ADDR" class="headerlink" title="解決方案一：URL Rewrite 改寫 REMOTE_ADDR"></a>解決方案一：URL Rewrite 改寫 REMOTE_ADDR</h2><p>首先確認 IIS 已安裝 URL Rewrite 模組，然後在 <code>web.config</code> 中加入：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rewrite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rules</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">&quot;Extract Real IP&quot;</span> <span class="attr">stopProcessing</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">match</span> <span class="attr">url</span>=<span class="string">&quot;.*&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">conditions</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">&quot;&#123;HTTP_X_FORWARDED_FOR&#125;&quot;</span> <span class="attr">pattern</span>=<span class="string">&quot;^([^:]+)&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">conditions</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">serverVariables</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">set</span> <span class="attr">name</span>=<span class="string">&quot;REMOTE_ADDR&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&#123;C:1&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">serverVariables</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">&quot;None&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">rules</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rewrite</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>重要：</strong> 需要在 IIS 的「URL 重寫」功能中先新增允許修改的伺服器變數：</p>
<ol>
<li>點選「URL 重寫」</li>
<li>右側「檢視伺服器變數」</li>
<li>新增 <code>REMOTE_ADDR</code></li>
</ol>
<p>設定完成後測試：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REMOTE_ADDR: 125.228.130.66  # 成功改寫！</span><br></pre></td></tr></table></figure>

<h2 id="意外發現：IIS-IP-限制的執行時機陷阱"><a href="#意外發現：IIS-IP-限制的執行時機陷阱" class="headerlink" title="意外發現：IIS IP 限制的執行時機陷阱"></a>意外發現：IIS IP 限制的執行時機陷阱</h2><p>興奮地以為問題解決了，結果發現 IIS 的「IP 位址及網域限制」還是不行！</p>
<p>深入研究後發現：<strong>IIS 的 IP 限制功能執行在請求處理管道的早期階段，在 URL Rewrite 之前</strong>。所以它仍然看到的是原始的 <code>c-ip</code>，而不是改寫後的 <code>REMOTE_ADDR</code>。</p>
<p>這解釋了為什麼 IIS Log 中：</p>
<ul>
<li><code>c-ip</code> 仍然是 <code>192.168.0.28</code></li>
<li><code>X-Forwarded-For</code> 正確顯示真實 IP</li>
<li>URL Rewrite 成功但 IP 限制失效</li>
</ul>
<h2 id="解決方案二：程式碼層面的-IP-控制"><a href="#解決方案二：程式碼層面的-IP-控制" class="headerlink" title="解決方案二：程式碼層面的 IP 控制"></a>解決方案二：程式碼層面的 IP 控制</h2><p>既然 IIS 內建功能不給力，我們就自己來！在 <code>Global.asax.cs</code> 中實作：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">Application_BeginRequest</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 檢查是否啟用 IP 限制</span></span><br><span class="line">    <span class="built_in">bool</span> enableIPRestriction = ConfigurationManager.AppSettings[<span class="string">&quot;EnableIPRestriction&quot;</span>] == <span class="string">&quot;true&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (enableIPRestriction &amp;&amp; Request.Url.AbsolutePath.ToLower().StartsWith(<span class="string">&quot;/stationmanager&quot;</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> allowedIPsConfig = ConfigurationManager.AppSettings[<span class="string">&quot;AllowedIPs&quot;</span>] ?? <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="built_in">string</span>[] allowedIPs = allowedIPsConfig.Split(<span class="string">&#x27;,&#x27;</span>).Select(ip =&gt; ip.Trim()).ToArray();</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">string</span> forwardedFor = Request.ServerVariables[<span class="string">&quot;HTTP_X_FORWARDED_FOR&quot;</span>];</span><br><span class="line">        <span class="built_in">string</span> clientIP = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(forwardedFor))</span><br><span class="line">        &#123;</span><br><span class="line">            clientIP = forwardedFor.Split(<span class="string">&#x27;:&#x27;</span>)[<span class="number">0</span>]; <span class="comment">// 移除 port 部分</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!allowedIPs.Contains(clientIP))</span><br><span class="line">        &#123;</span><br><span class="line">            Response.StatusCode = <span class="number">403</span>;</span><br><span class="line">            Response.Write(<span class="string">&quot;Access Denied&quot;</span>);</span><br><span class="line">            Response.End();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 其他處理邏輯...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="最佳實務：環境分離的設定管理"><a href="#最佳實務：環境分離的設定管理" class="headerlink" title="最佳實務：環境分離的設定管理"></a>最佳實務：環境分離的設定管理</h2><p>為了避免正式機和測試機搞混，在 <code>web.config</code> 中加入可設定的開關：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">appSettings</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- IP 限制設定 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;EnableIPRestriction&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;AllowedIPs&quot;</span> <span class="attr">value</span>=<span class="string">&quot;125.228.130.66,另一個IP&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>這樣就能：</p>
<ul>
<li><strong>測試機</strong>：<code>EnableIPRestriction = true</code></li>
<li><strong>正式機</strong>：<code>EnableIPRestriction = false</code></li>
</ul>
<h2 id="加碼：IIS-Log-顯示真實-IP"><a href="#加碼：IIS-Log-顯示真實-IP" class="headerlink" title="加碼：IIS Log 顯示真實 IP"></a>加碼：IIS Log 顯示真實 IP</h2><p>為了方便追蹤，可以讓 IIS Log 也顯示真實 IP：</p>
<ol>
<li>IIS 管理器 → 網站 → 「記錄」</li>
<li>「選取欄位」→ 「自訂欄位」</li>
<li>新增：<ul>
<li>欄位名稱：<code>X-Forwarded-For</code></li>
<li>來源：<code>Request Header</code></li>
<li>來源名稱：<code>X-Forwarded-For</code></li>
</ul>
</li>
</ol>
<p>之後 Log 就會顯示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c-ip: 192.168.0.28  X-Forwarded-For: 125.228.130.66:14185</span><br></pre></td></tr></table></figure>

<h2 id="踩坑總結"><a href="#踩坑總結" class="headerlink" title="踩坑總結"></a>踩坑總結</h2><p>這次解決問題的過程學到幾個重點：</p>
<p><strong>網路架構很重要</strong><br>有代理伺服器的環境下，要搞清楚真實 IP 的傳遞方式。</p>
<p><strong>IIS 功能的執行時機</strong><br>不是所有 IIS 功能都能配合 URL Rewrite，要了解請求處理管道的順序。</p>
<p><strong>設定檔化設計</strong><br>多環境部署時，要設計成可設定的方式，避免程式碼硬編碼。</p>
<p><strong>善用除錯工具</strong><br>建立簡單的測試頁面可以快速定位問題，比盲目調整設定有效多了。</p>
<h2 id="後記"><a href="#後記" class="headerlink" title="後記"></a>後記</h2><p>原本以為是個簡單的 IP 白名單設定，結果挖出了代理伺服器、IIS 請求管道、URL Rewrite 等一堆技術細節。雖然過程有點曲折，但最終找到了一個既實用又彈性的解決方案。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">Notion MCP 使用教學：讓 Claude 直接操作你的 Notion 工作區</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-06-23 11:50:00 / 修改時間：11:54:41" itemprop="dateCreated datePublished" datetime="2025-06-23T11:50:00+08:00">2025-06-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">生產力工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%94%9F%E7%94%A2%E5%8A%9B%E5%B7%A5%E5%85%B7/AI-%E6%87%89%E7%94%A8/" itemprop="url" rel="index"><span itemprop="name">AI 應用</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Notion-MCP-使用教學：讓-Claude-直接操作你的-Notion-工作區"><a href="#Notion-MCP-使用教學：讓-Claude-直接操作你的-Notion-工作區" class="headerlink" title="Notion MCP 使用教學：讓 Claude 直接操作你的 Notion 工作區"></a>Notion MCP 使用教學：讓 Claude 直接操作你的 Notion 工作區</h1><p>你是不是經常在 Notion 和 Claude 之間來回複製貼上，覺得很麻煩？現在有了 Notion MCP（Model Context Protocol），Claude 可以直接連接你的 Notion 工作區，就像有了一個貼心的 AI 助手，能幫你建立頁面、整理資料、查詢內容，完全不用再手動操作了！</p>
<h2 id="什麼是-Notion-MCP？"><a href="#什麼是-Notion-MCP？" class="headerlink" title="什麼是 Notion MCP？"></a>什麼是 Notion MCP？</h2><p>想像一下，如果 Claude 能直接「看到」你的 Notion 工作區，不僅能讀取你的筆記內容，還能幫你新增頁面、整理資料庫，甚至建立複雜的專案管理系統。這就是 Notion MCP 帶來的魔力！</p>
<p>MCP 就像是 Claude 和 Notion 之間的橋梁，讓 AI 不再只是聊天工具，而是真正能幫你「做事」的智能助手。</p>
<h2 id="設置前的準備工作"><a href="#設置前的準備工作" class="headerlink" title="設置前的準備工作"></a>設置前的準備工作</h2><p>在開始之前，你需要準備這些東西：</p>
<ul>
<li>Claude Desktop 應用程式（必須是桌面版）</li>
<li>一個 Notion 帳戶</li>
<li>基本的終端操作能力（不用怕，我們會一步步教你）</li>
<li>大約 15 分鐘的耐心</li>
</ul>
<h2 id="第一步：建立-Notion-Integration"><a href="#第一步：建立-Notion-Integration" class="headerlink" title="第一步：建立 Notion Integration"></a>第一步：建立 Notion Integration</h2><p>首先我們需要告訴 Notion「歡迎 Claude 來串門子」。</p>
<ol>
<li><p><strong>前往 Notion Integrations 頁面</strong><br>打開 <a target="_blank" rel="noopener" href="https://www.notion.so/profile/integrations">https://www.notion.so/profile/integrations</a></p>
</li>
<li><p><strong>建立新的 Integration</strong></p>
<ul>
<li>點擊「New Integration」</li>
<li>給它取個名字，比如「Claude MCP」</li>
<li>選擇你的工作區</li>
<li>類型保持「Internal」就好</li>
</ul>
</li>
<li><p><strong>複製 Integration Token</strong><br>建立完成後，你會看到一串以 <code>ntn_</code> 開頭的神秘字串，這就是你的金鑰。小心保管，等會要用到！</p>
</li>
<li><p><strong>設定權限</strong><br>在 Capabilities 頁面中，建議至少開啟：</p>
<ul>
<li>Read content（讀取內容）</li>
<li>Update content（更新內容）  </li>
<li>Insert content（新增內容）</li>
</ul>
</li>
</ol>
<h2 id="第二步：配置-Claude-Desktop"><a href="#第二步：配置-Claude-Desktop" class="headerlink" title="第二步：配置 Claude Desktop"></a>第二步：配置 Claude Desktop</h2><p>現在要讓 Claude Desktop 知道如何連接到你的 Notion。</p>
<h3 id="macOS-用戶"><a href="#macOS-用戶" class="headerlink" title="macOS 用戶"></a>macOS 用戶</h3><p>打開終端，輸入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code ~/Library/Application\ Support/Claude/claude_desktop_config.json</span><br></pre></td></tr></table></figure>

<h3 id="Windows-用戶"><a href="#Windows-用戶" class="headerlink" title="Windows 用戶"></a>Windows 用戶</h3><p>打開命令提示字元，輸入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad %APPDATA%\Claude\claude_desktop_config.json</span><br></pre></td></tr></table></figure>

<p>在這個設定檔中加入以下內容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;notion&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;-y&quot;</span><span class="punctuation">,</span> <span class="string">&quot;@notionhq/notion-mcp-server&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;OPENAPI_MCP_HEADERS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&#123;\&quot;Authorization\&quot;: \&quot;Bearer ntn_你的金鑰\&quot;, \&quot;Notion-Version\&quot;: \&quot;2022-06-28\&quot;&#125;&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>記得把 <code>ntn_你的金鑰</code> 替換成剛才複製的 Integration Token！</p>
<h2 id="第三步：連接頁面到-Integration"><a href="#第三步：連接頁面到-Integration" class="headerlink" title="第三步：連接頁面到 Integration"></a>第三步：連接頁面到 Integration</h2><p>設定完 Integration 後，你還需要告訴 Notion 哪些頁面可以讓 Claude 存取。</p>
<ol>
<li><strong>進入你想要 Claude 存取的頁面</strong></li>
<li><strong>點擊右上角的「⋯」選單</strong></li>
<li><strong>選擇「Connect to」→ 你的 Integration 名稱</strong></li>
</ol>
<p>完成這步後，Claude 就能看到並操作這個頁面了！</p>
<h2 id="第四步：重啟-Claude-Desktop"><a href="#第四步：重啟-Claude-Desktop" class="headerlink" title="第四步：重啟 Claude Desktop"></a>第四步：重啟 Claude Desktop</h2><p>配置完成後，記得<strong>完全關閉</strong>Claude Desktop 應用程式，然後重新打開。這樣 MCP 設定才會生效。</p>
<p>如果一切順利，你應該會在 Claude 介面中看到工具圖示，這表示 Notion MCP 已經連接成功！</p>
<h2 id="實際應用場景"><a href="#實際應用場景" class="headerlink" title="實際應用場景"></a>實際應用場景</h2><p>設置完成後，你可以這樣使用：</p>
<h3 id="📝-內容管理"><a href="#📝-內容管理" class="headerlink" title="📝 內容管理"></a>📝 內容管理</h3><p>「幫我在個人筆記頁面建立一篇關於今天學到的 Python 技巧的筆記」</p>
<h3 id="📊-資料整理"><a href="#📊-資料整理" class="headerlink" title="📊 資料整理"></a>📊 資料整理</h3><p>「把我昨天的會議記錄整理成待辦事項，並新增到專案管理資料庫」</p>
<h3 id="🔍-資訊檢索"><a href="#🔍-資訊檢索" class="headerlink" title="🔍 資訊檢索"></a>🔍 資訊檢索</h3><p>「幫我找出所有標記為『重要』的筆記內容」</p>
<h3 id="📋-專案管理"><a href="#📋-專案管理" class="headerlink" title="📋 專案管理"></a>📋 專案管理</h3><p>「建立本月的工作計劃，包含優先級和預計完成時間」</p>
<h2 id="常見問題排除"><a href="#常見問題排除" class="headerlink" title="常見問題排除"></a>常見問題排除</h2><h3 id="看不到工具圖示？"><a href="#看不到工具圖示？" class="headerlink" title="看不到工具圖示？"></a>看不到工具圖示？</h3><ul>
<li>確認配置檔案格式正確（JSON 語法很挑剔）</li>
<li>檢查 Integration Token 是否正確</li>
<li>重啟 Claude Desktop</li>
</ul>
<h3 id="Claude-說找不到頁面？"><a href="#Claude-說找不到頁面？" class="headerlink" title="Claude 說找不到頁面？"></a>Claude 說找不到頁面？</h3><ul>
<li>確認頁面已經連接到 Integration</li>
<li>檢查 Integration 權限設定</li>
<li>試著重新連接頁面</li>
</ul>
<h3 id="M1-Mac-用戶遇到問題？"><a href="#M1-Mac-用戶遇到問題？" class="headerlink" title="M1 Mac 用戶遇到問題？"></a>M1 Mac 用戶遇到問題？</h3><ul>
<li>安裝 Rosetta 2：<code>softwareupdate --install-rosetta</code></li>
<li>確保使用最新版本的 Node.js</li>
</ul>
<h2 id="安全性提醒"><a href="#安全性提醒" class="headerlink" title="安全性提醒"></a>安全性提醒</h2><p>雖然 Notion MCP 很方便，但也要注意安全：</p>
<ul>
<li>Integration Token 要妥善保管，不要分享給別人</li>
<li>只連接必要的頁面到 Integration</li>
<li>可以設定唯讀權限，避免意外修改重要資料</li>
<li>定期檢查 Integration 的存取記錄</li>
</ul>
<h2 id="進階玩法"><a href="#進階玩法" class="headerlink" title="進階玩法"></a>進階玩法</h2><p>熟悉基本操作後，你還可以嘗試：</p>
<ul>
<li><strong>批量資料處理</strong>：讓 Claude 幫你整理大量筆記</li>
<li><strong>自動化工作流程</strong>：設定固定的頁面結構和內容模板  </li>
<li><strong>智能資料分析</strong>：分析你的筆記習慣和知識結構</li>
<li><strong>多工作區管理</strong>：在不同專案間快速切換和整理</li>
</ul>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>Notion MCP 真的是生產力的一大躍進！它不只是把兩個工具連接起來，而是創造了全新的工作方式。你的 Notion 不再只是靜態的筆記本，而是變成了一個智能的知識夥伴。</p>
<p>現在就動手設定吧！相信我，一旦體驗過 Claude 直接幫你整理 Notion 的便利，你就再也回不去手動複製貼上的日子了。</p>
<p>有任何問題歡迎在留言區討論，我們一起探索 AI 與生產力工具結合的無限可能！</p>
<hr>
<p><em>本文基於 2025 年 6 月的 Notion MCP 最新版本撰寫，設置方法可能會隨著版本更新而調整。</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">前端架構大亂鬥：讓 React 和 Vue 在同一個專案中和平共處的黑科技</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-06-11 14:30:00 / 修改時間：14:13:13" itemprop="dateCreated datePublished" datetime="2025-06-11T14:30:00+08:00">2025-06-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">前端開發</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF%E9%96%8B%E7%99%BC/%E5%BE%AE%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%A7%8B/" itemprop="url" rel="index"><span itemprop="name">微前端架構</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>7.5k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>7 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>還在為「公司要從 Vue 轉 React」或「新專案用什麼框架」而頭痛嗎？如果我告訴你，現在有一種技術可以讓 React 和 Vue 在同一個專案中完美共存，你會不會覺得我在說夢話？</p>
<p>今天要跟大家分享的 <strong>Vite + Module Federation</strong>，就是這樣一個讓人眼睛為之一亮的黑科技。它不只解決了框架選擇的痛苦，更開啟了前端架構設計的全新可能性。</p>
<h2 id="什麼是微前端？為什麼我們需要它？"><a href="#什麼是微前端？為什麼我們需要它？" class="headerlink" title="什麼是微前端？為什麼我們需要它？"></a>什麼是微前端？為什麼我們需要它？</h2><p>想像一下，你正在開發一個大型電商平台。產品團隊負責商品展示頁面，購物車團隊處理結帳流程，用戶中心團隊維護會員系統。傳統做法是把所有功能打包成一個巨大的應用程式，結果就是：</p>
<ul>
<li>一個人改了購物車邏輯，整個網站都要重新部署</li>
<li>產品團隊想用最新的 React 18，但購物車團隊還在用 Vue 2</li>
<li>測試時牽一髮動全身，誰都不敢隨便改程式碼</li>
</ul>
<p><strong>微前端架構</strong>就像是把一個大房子分割成多個獨立的套房，每個團隊都有自己的空間，可以自由裝潢、獨立出入，但仍然共享同一個地址。</p>
<h2 id="Module-Federation：前端界的樂高積木"><a href="#Module-Federation：前端界的樂高積木" class="headerlink" title="Module Federation：前端界的樂高積木"></a>Module Federation：前端界的樂高積木</h2><p><a target="_blank" rel="noopener" href="https://webpack.js.org/concepts/module-federation/">Module Federation</a> 最初是 Webpack 5 的旗艦功能，它的核心概念很簡單：<strong>讓不同的應用程式可以在執行時動態分享程式碼</strong>。</p>
<p>這就像是樂高積木一樣，每個團隊負責製作不同的積木塊，最後在瀏覽器中組裝成完整的應用程式。最神奇的是，這些積木塊可以用不同的「材料」製作 —— 有些用 React，有些用 Vue，甚至可以混用！</p>
<h3 id="兩個關鍵角色"><a href="#兩個關鍵角色" class="headerlink" title="兩個關鍵角色"></a>兩個關鍵角色</h3><p>在 Module Federation 的世界裡，有兩個重要角色：</p>
<p><strong>Host（主機應用程式）</strong>：就像是一個容器，負責載入和整合其他應用程式。它是用戶最終看到的完整應用程式。</p>
<p><strong>Remote（遠端應用程式）</strong>：獨立開發、部署的微前端模組，可以把自己的組件或功能「出租」給其他應用程式使用。</p>
<h2 id="Vite：讓-Module-Federation-飛起來"><a href="#Vite：讓-Module-Federation-飛起來" class="headerlink" title="Vite：讓 Module Federation 飛起來"></a>Vite：讓 Module Federation 飛起來</h2><p>傳統的 Module Federation 需要 Webpack，但 Webpack 的建置速度...你懂的。當專案變大時，喝杯咖啡回來可能都還在編譯。</p>
<p>這時候 <a target="_blank" rel="noopener" href="https://vite.dev/">Vite</a> 就像是超級英雄一樣出現了！它利用瀏覽器原生的 ES Modules 特性，讓開發體驗快到飛起來。而 <a target="_blank" rel="noopener" href="https://github.com/originjs/vite-plugin-federation">@originjs/vite-plugin-federation</a> 這個插件，則是把 Module Federation 的魔法帶到了 Vite 的世界。</p>
<h2 id="為什麼-React-能整合-Vue？技術原理大揭密"><a href="#為什麼-React-能整合-Vue？技術原理大揭密" class="headerlink" title="為什麼 React 能整合 Vue？技術原理大揭密"></a>為什麼 React 能整合 Vue？技術原理大揭密</h2><p>這可能是最讓人好奇的問題了。React 和 Vue 不是競爭對手嗎？怎麼可能在同一個應用程式中共存？</p>
<h3 id="1-執行時載入的魔法"><a href="#1-執行時載入的魔法" class="headerlink" title="1. 執行時載入的魔法"></a>1. 執行時載入的魔法</h3><p>關鍵在於 <strong>執行時載入</strong>。Module Federation 不是在建置時把所有程式碼打包在一起，而是在瀏覽器執行時動態載入遠端模組。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 這不是編譯時的 import，而是執行時的動態載入</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">VueComponent</span> = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&#x27;remote-vue-app/VueComponent&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>想像一下，你的 React 應用程式已經在瀏覽器中執行了，這時候它說：「嘿，我需要一個 Vue 組件，去遠端抓一下吧！」然後 Vue 組件就被載入進來，在指定的 DOM 節點中開始工作。</p>
<h3 id="2-DOM-的和諧共處"><a href="#2-DOM-的和諧共處" class="headerlink" title="2. DOM 的和諧共處"></a>2. DOM 的和諧共處</h3><p>無論是 React 還是 Vue，最終都是在操作 DOM。它們就像是兩個室友，只要各自使用不同的房間（DOM 節點），就不會互相干擾。</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// React 容器組件</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">VueComponentWrapper</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> containerRef = useRef&lt;<span class="title class_">HTMLDivElement</span>&gt;(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 載入 Vue 組件並掛載到指定節點</span></span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&#x27;remote-vue-app/VueComponent&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params"><span class="variable language_">module</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title class_">VueComponent</span> = <span class="variable language_">module</span>.<span class="property">default</span>;</span><br><span class="line">      <span class="keyword">if</span> (containerRef.<span class="property">current</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">VueComponent</span>);</span><br><span class="line">        app.<span class="title function_">mount</span>(containerRef.<span class="property">current</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;containerRef&#125;</span> /&gt;</span></span>; <span class="comment">// Vue 的專屬空間</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="3-框架實例的獨立性"><a href="#3-框架實例的獨立性" class="headerlink" title="3. 框架實例的獨立性"></a>3. 框架實例的獨立性</h3><p>每個框架都有自己的實例和生命週期管理。React 管理自己的組件樹，Vue 在分配給它的 DOM 節點內運行，兩者井水不犯河水。</p>
<h2 id="實戰案例：打造混合框架的電商平台"><a href="#實戰案例：打造混合框架的電商平台" class="headerlink" title="實戰案例：打造混合框架的電商平台"></a>實戰案例：打造混合框架的電商平台</h2><p>讓我們看看一個實際的例子。假設我們要建造一個電商平台：</p>
<h3 id="Remote-應用程式設定（Vue-商品展示模組）"><a href="#Remote-應用程式設定（Vue-商品展示模組）" class="headerlink" title="Remote 應用程式設定（Vue 商品展示模組）"></a>Remote 應用程式設定（Vue 商品展示模組）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vite.config.js (Vue 商品模組)</span></span><br><span class="line"><span class="keyword">import</span> &#123; federation &#125; <span class="keyword">from</span> <span class="string">&#x27;@originjs/vite-plugin-federation&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">federation</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;product-module&#x27;</span>,</span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;remoteEntry.js&#x27;</span>,</span><br><span class="line">      <span class="attr">exposes</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;./ProductList&#x27;</span>: <span class="string">&#x27;./src/components/ProductList.vue&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;./ProductDetail&#x27;</span>: <span class="string">&#x27;./src/components/ProductDetail.vue&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;vue&#x27;</span>: &#123; <span class="attr">singleton</span>: <span class="literal">false</span> &#125; <span class="comment">// 允許多個 Vue 實例</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">server</span>: &#123;</span><br><span class="line">    <span class="attr">port</span>: <span class="number">5001</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Host-應用程式設定（React-主應用程式）"><a href="#Host-應用程式設定（React-主應用程式）" class="headerlink" title="Host 應用程式設定（React 主應用程式）"></a>Host 應用程式設定（React 主應用程式）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vite.config.js (React 主應用程式)</span></span><br><span class="line"><span class="keyword">import</span> &#123; federation &#125; <span class="keyword">from</span> <span class="string">&#x27;@originjs/vite-plugin-federation&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [</span><br><span class="line">    <span class="title function_">federation</span>(&#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;main-app&#x27;</span>,</span><br><span class="line">      <span class="attr">remotes</span>: &#123;</span><br><span class="line">        <span class="attr">productModule</span>: <span class="string">&quot;http://localhost:5001/assets/remoteEntry.js&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">shared</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;react&#x27;</span>: &#123; <span class="attr">singleton</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">        <span class="string">&#x27;react-dom&#x27;</span>: &#123; <span class="attr">singleton</span>: <span class="literal">true</span> &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="在-React-中使用-Vue-組件"><a href="#在-React-中使用-Vue-組件" class="headerlink" title="在 React 中使用 Vue 組件"></a>在 React 中使用 Vue 組件</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// React 主應用程式</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useEffect, useRef &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ProductSection</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> containerRef = useRef&lt;<span class="title class_">HTMLDivElement</span>&gt;(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 動態載入 Vue 商品組件</span></span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&#x27;productModule/ProductList&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params"><span class="variable language_">module</span></span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> <span class="title class_">ProductList</span> = <span class="variable language_">module</span>.<span class="property">default</span>;</span><br><span class="line">      <span class="keyword">if</span> (containerRef.<span class="property">current</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; createApp &#125; = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&#x27;vue&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> app = <span class="title function_">createApp</span>(<span class="title class_">ProductList</span>);</span><br><span class="line">        app.<span class="title function_">mount</span>(containerRef.<span class="property">current</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;, []);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;product-section&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我們的商品（React 標題）<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">ref</span>=<span class="string">&#123;containerRef&#125;</span> /&gt;</span> &#123;/* Vue 組件會在這裡渲染 */&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="跨框架通訊：讓-React-和-Vue-對話"><a href="#跨框架通訊：讓-React-和-Vue-對話" class="headerlink" title="跨框架通訊：讓 React 和 Vue 對話"></a>跨框架通訊：讓 React 和 Vue 對話</h2><p>當 React 和 Vue 需要「聊天」時，可以透過以下方式：</p>
<h3 id="1-自定義事件"><a href="#1-自定義事件" class="headerlink" title="1. 自定義事件"></a>1. 自定義事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue 組件發送訊息</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleProductClick</span> = (<span class="params">product</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">CustomEvent</span>(<span class="string">&#x27;product-selected&#x27;</span>, &#123; </span><br><span class="line">    <span class="attr">detail</span>: &#123; product &#125;</span><br><span class="line">  &#125;));</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// React 組件接收訊息</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">handleProductSelection</span> = (<span class="params">event</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;用戶選擇了商品:&#x27;</span>, event.<span class="property">detail</span>.<span class="property">product</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;product-selected&#x27;</span>, handleProductSelection);</span><br><span class="line">  <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;product-selected&#x27;</span>, handleProductSelection);</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure>

<h3 id="2-共享狀態管理"><a href="#2-共享狀態管理" class="headerlink" title="2. 共享狀態管理"></a>2. 共享狀態管理</h3><p>使用 <a target="_blank" rel="noopener" href="https://github.com/pmndrs/zustand">Zustand</a> 或其他狀態管理工具：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 共享的狀態管理</span></span><br><span class="line"><span class="keyword">import</span> &#123; create &#125; <span class="keyword">from</span> <span class="string">&#x27;zustand&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> useSharedStore = <span class="title function_">create</span>(<span class="function">(<span class="params">set</span>) =&gt;</span> (&#123;</span><br><span class="line">  <span class="attr">selectedProduct</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">setSelectedProduct</span>: <span class="function">(<span class="params">product</span>) =&gt;</span> <span class="title function_">set</span>(&#123; <span class="attr">selectedProduct</span>: product &#125;),</span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// React 和 Vue 都可以使用這個 store</span></span><br></pre></td></tr></table></figure>

<h2 id="實務考量：什麼時候該用這招？"><a href="#實務考量：什麼時候該用這招？" class="headerlink" title="實務考量：什麼時候該用這招？"></a>實務考量：什麼時候該用這招？</h2><p>雖然 Module Federation 看起來很酷，但不是所有專案都適合：</p>
<h3 id="適合的場景"><a href="#適合的場景" class="headerlink" title="適合的場景"></a>適合的場景</h3><ul>
<li><strong>大型企業級應用</strong>：多個團隊各自負責不同模組</li>
<li><strong>漸進式遷移</strong>：從 Vue 2 升級到 Vue 3，或從 Vue 遷移到 React</li>
<li><strong>技術棧多樣化</strong>：團隊有不同的技術專長</li>
<li><strong>獨立部署需求</strong>：希望各模組能獨立發布更新</li>
</ul>
<h3 id="需要謹慎的場景"><a href="#需要謹慎的場景" class="headerlink" title="需要謹慎的場景"></a>需要謹慎的場景</h3><ul>
<li><strong>小型專案</strong>：複雜度可能超過效益</li>
<li><strong>效能敏感應用</strong>：多框架載入會增加初始載入時間</li>
<li><strong>團隊技術單一</strong>：如果大家都熟悉同一個框架，沒必要混用</li>
</ul>
<h2 id="效能優化秘訣"><a href="#效能優化秘訣" class="headerlink" title="效能優化秘訣"></a>效能優化秘訣</h2><h3 id="1-智慧的依賴共享"><a href="#1-智慧的依賴共享" class="headerlink" title="1. 智慧的依賴共享"></a>1. 智慧的依賴共享</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">shared</span>: &#123;</span><br><span class="line">  <span class="string">&#x27;react&#x27;</span>: &#123; </span><br><span class="line">    <span class="attr">singleton</span>: <span class="literal">true</span>,        <span class="comment">// 只載入一個 React 實例</span></span><br><span class="line">    <span class="attr">eager</span>: <span class="literal">true</span>,           <span class="comment">// 預先載入</span></span><br><span class="line">    <span class="attr">requiredVersion</span>: <span class="string">&#x27;^18.0.0&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;lodash&#x27;</span>: &#123;</span><br><span class="line">    <span class="attr">singleton</span>: <span class="literal">false</span>,      <span class="comment">// 允許多個版本共存</span></span><br><span class="line">    <span class="attr">shareScope</span>: <span class="string">&#x27;default&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-懶載入策略"><a href="#2-懶載入策略" class="headerlink" title="2. 懶載入策略"></a>2. 懶載入策略</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只在需要時才載入 Vue 組件</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">LazyVueComponent</span> = <span class="title class_">React</span>.<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> </span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;productModule/ProductList&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">module</span> =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">default</span>: <span class="function">() =&gt;</span> <span class="language-xml"><span class="tag">&lt;<span class="name">VueWrapper</span> <span class="attr">component</span>=<span class="string">&#123;module.default&#125;</span> /&gt;</span></span></span><br><span class="line">  &#125;))</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="3-預載入重要模組"><a href="#3-預載入重要模組" class="headerlink" title="3. 預載入重要模組"></a>3. 預載入重要模組</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 預先載入關鍵模組</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">preloadModules</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&#x27;productModule/ProductList&#x27;</span>);</span><br><span class="line">  <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&#x27;cartModule/ShoppingCart&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在應用程式啟動時預載入</span></span><br><span class="line"><span class="title function_">preloadModules</span>();</span><br></pre></td></tr></table></figure>

<h2 id="開發體驗優化"><a href="#開發體驗優化" class="headerlink" title="開發體驗優化"></a>開發體驗優化</h2><h3 id="TypeScript-支援"><a href="#TypeScript-支援" class="headerlink" title="TypeScript 支援"></a>TypeScript 支援</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 為遠端模組建立型別定義</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;productModule/ProductList&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">ProductList</span>: <span class="built_in">any</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">ProductList</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或使用更精確的型別定義</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ProductListProps</span> &#123;</span><br><span class="line">  <span class="attr">category</span>?: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">onProductSelect</span>?: <span class="function">(<span class="params"><span class="attr">product</span>: <span class="title class_">Product</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;productModule/ProductList&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> <span class="title class_">ProductList</span>: <span class="function">(<span class="params"><span class="attr">props</span>: <span class="title class_">ProductListProps</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">ProductList</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="開發環境設定"><a href="#開發環境設定" class="headerlink" title="開發環境設定"></a>開發環境設定</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 開發環境下的 fallback 機制</span></span><br><span class="line"><span class="keyword">const</span> isDev = process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;development&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">loadRemoteComponent</span> = <span class="keyword">async</span> (<span class="params">modulePath, fallback</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">await</span> <span class="keyword">import</span>(modulePath);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isDev) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`無法載入遠端模組 <span class="subst">$&#123;modulePath&#125;</span>，使用 fallback`</span>);</span><br><span class="line">      <span class="keyword">return</span> fallback;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> error;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="監控與除錯"><a href="#監控與除錯" class="headerlink" title="監控與除錯"></a>監控與除錯</h2><h3 id="載入狀態追蹤"><a href="#載入狀態追蹤" class="headerlink" title="載入狀態追蹤"></a>載入狀態追蹤</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">useRemoteComponent</span> = (<span class="params"><span class="attr">modulePath</span>: <span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> [component, setComponent] = <span class="title function_">useState</span>(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> [loading, setLoading] = <span class="title function_">useState</span>(<span class="literal">true</span>);</span><br><span class="line">  <span class="keyword">const</span> [error, setError] = <span class="title function_">useState</span>(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">import</span>(modulePath)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function"><span class="params">module</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">setComponent</span>(<span class="variable language_">module</span>.<span class="property">default</span>);</span><br><span class="line">        <span class="title function_">setLoading</span>(<span class="literal">false</span>);</span><br><span class="line">      &#125;)</span><br><span class="line">      .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">setError</span>(err);</span><br><span class="line">        <span class="title function_">setLoading</span>(<span class="literal">false</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;, [modulePath]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123; component, loading, error &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="錯誤邊界"><a href="#錯誤邊界" class="headerlink" title="錯誤邊界"></a>錯誤邊界</h3><figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">RemoteComponentErrorBoundary</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123; <span class="attr">hasError</span>: <span class="literal">false</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">getDerivedStateFromError</span>(<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">hasError</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">hasError</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>遠端組件載入失敗，請稍後再試<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">children</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="未來展望：前端架構的新可能"><a href="#未來展望：前端架構的新可能" class="headerlink" title="未來展望：前端架構的新可能"></a>未來展望：前端架構的新可能</h2><p>Module Federation + Vite 的組合，不只是技術上的創新，更是前端架構思維的轉變。它讓我們重新思考：</p>
<ul>
<li><strong>團隊協作</strong>：不再需要統一技術棧，每個團隊都能發揮所長</li>
<li><strong>技術演進</strong>：可以漸進式地採用新技術，而不用推倒重來</li>
<li><strong>維護成本</strong>：模組化的架構讓維護更輕鬆，bug 影響範圍更小</li>
</ul>
<p>當然，這個技術還在快速發展中。隨著 <a target="_blank" rel="noopener" href="https://github.com/module-federation/universe">Module Federation Runtime</a> 等新工具的出現，相信未來會有更多驚喜等著我們。</p>
<h2 id="總結：擁抱多元，釋放創意"><a href="#總結：擁抱多元，釋放創意" class="headerlink" title="總結：擁抱多元，釋放創意"></a>總結：擁抱多元，釋放創意</h2><p>Vite + Module Federation 證明了一件事：<strong>技術不應該成為創意的枷鎖</strong>。</p>
<p>當我們不再被「只能選擇一個框架」的思維限制時，前端開發的可能性變得無限寬廣。React 的生態系統、Vue 的簡潔優雅、Angular 的企業級特性...現在我們可以在同一個專案中享受它們的優點。</p>
<p>下次當有人問你「我們該用 React 還是 Vue？」時，你可以自信地回答：「為什麼不能兩個都用呢？」</p>
<p>記住，最好的架構不是最新的技術，而是最適合你團隊和專案需求的解決方案。Module Federation 給了我們更多選擇，但選擇權還是在我們手中。</p>
<hr>
<p><em>想要親自體驗 Module Federation 的魔力嗎？建議先從小型 POC 開始，感受一下跨框架開發的樂趣。記住，技術是工具，創意才是靈魂！</em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">別再讓你的網站裸奔了！Cloudflare 讓你 5 分鐘變身網路防護高手</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-05-27 10:30:00 / 修改時間：14:00:27" itemprop="dateCreated datePublished" datetime="2025-05-27T10:30:00+08:00">2025-05-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%B6%B2%E7%AB%99%E6%95%88%E8%83%BD/" itemprop="url" rel="index"><span itemprop="name">網站效能</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%B6%B2%E7%AB%99%E6%95%88%E8%83%BD/%E7%B6%B2%E8%B7%AF%E5%AE%89%E5%85%A8/" itemprop="url" rel="index"><span itemprop="name">網路安全</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>1.9k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>還記得那種半夜被電話吵醒，客服說網站掛了的恐懼嗎？還是每次看到網站載入速度慢得像蝸牛爬行，就想直接砸電腦的衝動？如果你也有這些困擾，那你絕對需要認識 Cloudflare 這個神器。</p>
<h2 id="什麼是-Cloudflare？為什麼工程師都在用它？"><a href="#什麼是-Cloudflare？為什麼工程師都在用它？" class="headerlink" title="什麼是 Cloudflare？為什麼工程師都在用它？"></a>什麼是 Cloudflare？為什麼工程師都在用它？</h2><p>Cloudflare 簡單來說就是你網站的「超級保鑣兼快遞員」。它是全球最大的連接雲網路之一，擁有超過 330 個數據中心遍布世界各地。當使用者想要瀏覽你的網站時，Cloudflare 會：</p>
<ol>
<li><strong>當保鑣</strong>：阻擋惡意攻擊，包括 DDoS 攻擊和駭客入侵</li>
<li><strong>當快遞員</strong>：把你的網站內容快取在全球各地，讓使用者存取更快速</li>
<li><strong>當翻譯機</strong>：提供 SSL 憑證，讓你的網站自動升級為 HTTPS</li>
</ol>
<p>根據 <a target="_blank" rel="noopener" href="https://blog.cloudflare.com/ddos-threat-report-for-2025-q1/">Cloudflare 2025 年第一季報告</a>，他們在短短三個月內就阻擋了 2,050 萬次 DDoS 攻擊，這數字比去年同期增長了 358%！而且他們擁有 388 Tbps 的網路容量，是史上最大 DDoS 攻擊的 23 倍。</p>
<h2 id="免費方案就很夠用？Cloudflare-不藏私大公開"><a href="#免費方案就很夠用？Cloudflare-不藏私大公開" class="headerlink" title="免費方案就很夠用？Cloudflare 不藏私大公開"></a>免費方案就很夠用？Cloudflare 不藏私大公開</h2><p>很多人對「免費」總是心存疑慮，但 Cloudflare 的免費方案真的很佛心。根據 <a target="_blank" rel="noopener" href="https://www.cloudflare.com/plans/free/">Cloudflare 官方文件</a>，免費方案包含：</p>
<ul>
<li><strong>無限制的 DDoS 防護</strong>：不管攻擊多大，都幫你擋下來</li>
<li><strong>全球 CDN</strong>：網站速度直接提升 300%</li>
<li><strong>免費 SSL 憑證</strong>：HTTPS 不用錢，搜尋引擎還會給你加分</li>
<li><strong>基本的 DNS 管理</strong>：告別龜速的 DNS 解析</li>
</ul>
<p>當然，如果你的網站流量很大，或是需要更進階的功能，他們也有 Pro（$20/月）、Business（$200/月）和 Enterprise 方案可以選擇。</p>
<h2 id="動手設定-Cloudflare：比泡泡麵還簡單的-5-步驟"><a href="#動手設定-Cloudflare：比泡泡麵還簡單的-5-步驟" class="headerlink" title="動手設定 Cloudflare：比泡泡麵還簡單的 5 步驟"></a>動手設定 Cloudflare：比泡泡麵還簡單的 5 步驟</h2><h3 id="步驟-1：註冊-Cloudflare-帳號"><a href="#步驟-1：註冊-Cloudflare-帳號" class="headerlink" title="步驟 1：註冊 Cloudflare 帳號"></a>步驟 1：註冊 Cloudflare 帳號</h3><p>前往 <a target="_blank" rel="noopener" href="https://www.cloudflare.com/">Cloudflare 官網</a>，註冊一個免費帳號。填入你的 Email 和密碼，就這麼簡單。</p>
<h3 id="步驟-2：新增你的網域"><a href="#步驟-2：新增你的網域" class="headerlink" title="步驟 2：新增你的網域"></a>步驟 2：新增你的網域</h3><p>登入後，點擊「Add a site」，輸入你的網域名稱（例如：example.com）。記得不要加 www 或 http://，就單純的網域名稱就好。</p>
<h3 id="步驟-3：選擇方案"><a href="#步驟-3：選擇方案" class="headerlink" title="步驟 3：選擇方案"></a>步驟 3：選擇方案</h3><p>對於大部分的個人網站和小型企業，免費方案就非常夠用了。如果你需要更多功能，再考慮升級。</p>
<h3 id="步驟-4：確認-DNS-記錄"><a href="#步驟-4：確認-DNS-記錄" class="headerlink" title="步驟 4：確認 DNS 記錄"></a>步驟 4：確認 DNS 記錄</h3><p>Cloudflare 會自動掃描你現有的 DNS 記錄，並顯示給你確認。檢查一下是否有遺漏的記錄，特別是 A 記錄和 CNAME 記錄。</p>
<h3 id="步驟-5：更新-Nameserver"><a href="#步驟-5：更新-Nameserver" class="headerlink" title="步驟 5：更新 Nameserver"></a>步驟 5：更新 Nameserver</h3><p>這是最關鍵的一步！Cloudflare 會提供兩個 nameserver 給你，像是：</p>
<ul>
<li><code>ns1.cloudflare.com</code></li>
<li><code>ns2.cloudflare.com</code></li>
</ul>
<p>你需要到你的網域註冊商（如 GoDaddy、Namecheap 等）的控制面板，把原本的 nameserver 替換成 Cloudflare 提供的。</p>
<p><strong>小提醒</strong>：DNS 更新通常需要 24 小時才會完全生效，但大部分情況下幾小時就搞定了。</p>
<h2 id="進階設定：讓你的網站飛起來的秘密武器"><a href="#進階設定：讓你的網站飛起來的秘密武器" class="headerlink" title="進階設定：讓你的網站飛起來的秘密武器"></a>進階設定：讓你的網站飛起來的秘密武器</h2><h3 id="SSL-TLS-設定"><a href="#SSL-TLS-設定" class="headerlink" title="SSL/TLS 設定"></a>SSL/TLS 設定</h3><p>在 Cloudflare 控制面板中，前往「SSL/TLS」頁面，建議選擇「Full」模式。這樣可以確保從使用者到 Cloudflare，再從 Cloudflare 到你的伺服器，整個連線都是加密的。</p>
<h3 id="快取設定"><a href="#快取設定" class="headerlink" title="快取設定"></a>快取設定</h3><p>到「Caching」頁面，啟用以下功能：</p>
<ul>
<li><strong>Browser Cache TTL</strong>：設定瀏覽器快取時間，減少重複請求</li>
<li><strong>Always Online</strong>：當你的伺服器掛掉時，Cloudflare 會顯示快取版本</li>
</ul>
<h3 id="效能優化"><a href="#效能優化" class="headerlink" title="效能優化"></a>效能優化</h3><p>在「Speed」頁面，啟用：</p>
<ul>
<li><strong>Auto Minify</strong>：自動壓縮 HTML、CSS、JavaScript</li>
<li><strong>Brotli 壓縮</strong>：比 Gzip 更高效的壓縮演算法</li>
</ul>
<h2 id="實際測試：看看效果有多驚人"><a href="#實際測試：看看效果有多驚人" class="headerlink" title="實際測試：看看效果有多驚人"></a>實際測試：看看效果有多驚人</h2><p>設定完成後，你可以用以下工具測試網站效能：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://gtmetrix.com/">GTmetrix</a>：綜合效能分析</li>
<li><a target="_blank" rel="noopener" href="https://pagespeed.web.dev/">Google PageSpeed Insights</a>：Google 官方的速度測試工具</li>
</ul>
<p>通常使用 Cloudflare 後，你會看到：</p>
<ul>
<li>網站載入速度提升 50-300%</li>
<li>SSL 評級變成 A+</li>
<li>DDoS 攻擊被自動阻擋</li>
</ul>
<h2 id="常見問題解答"><a href="#常見問題解答" class="headerlink" title="常見問題解答"></a>常見問題解答</h2><p><strong>Q：使用 Cloudflare 會影響 SEO 嗎？</strong><br>A：完全相反！更快的載入速度和 HTTPS 加密都會提升你的 SEO 排名。</p>
<p><strong>Q：免費方案有流量限制嗎？</strong><br>A：沒有！不管你的網站有多少流量，免費方案都沒有限制。</p>
<p><strong>Q：如果我不滿意，可以隨時停用嗎？</strong><br>A：當然可以！只要把 nameserver 改回原本的設定就行了。</p>
<h2 id="總結：為什麼你現在就該開始用-Cloudflare"><a href="#總結：為什麼你現在就該開始用-Cloudflare" class="headerlink" title="總結：為什麼你現在就該開始用 Cloudflare"></a>總結：為什麼你現在就該開始用 Cloudflare</h2><p>在這個網路攻擊日益頻繁的時代，不使用 Cloudflare 就像是開車不繫安全帶一樣危險。而且它的免費方案已經涵蓋了大部分網站需要的功能，CP 值簡直破表。</p>
<p>現在就動手設定吧！5 分鐘的時間投資，換來的是網站效能和安全性的大幅提升。你的使用者會感謝你，搜尋引擎也會給你更好的排名。</p>
<p>別再猶豫了，讓 Cloudflare 成為你網站的最佳夥伴！</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">Context7mcp：為你的 AI 開發助手注入最新文件庫的即時知識</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-05-15 10:30:00 / 修改時間：14:00:37" itemprop="dateCreated datePublished" datetime="2025-05-15T10:30:00+08:00">2025-05-15</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%96%8B%E7%99%BC%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">開發工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%96%8B%E7%99%BC%E5%B7%A5%E5%85%B7/AI-%E8%BC%94%E5%8A%A9%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">AI 輔助開發</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Github頁面：Context7mcp"><a href="#Github頁面：Context7mcp" class="headerlink" title="Github頁面：Context7mcp"></a>Github頁面：<a target="_blank" rel="noopener" href="https://search.google.com/search-console">Context7mcp</a></h2><h2 id="當你的-AI-助手不懂最新技術文件時"><a href="#當你的-AI-助手不懂最新技術文件時" class="headerlink" title="當你的 AI 助手不懂最新技術文件時"></a>當你的 AI 助手不懂最新技術文件時</h2><p>「這段程式碼有問題，Upstash Redis 的連線方式好像不對...」</p>
<p>我盯著 Claude 給我的程式碼，皺了皺眉。即使是最新的 LLM 模型，在處理新的函式庫或快速迭代的專案時，也會產生過時的程式碼。它們訓練的知識總有截止日，新的 API 或功能怎麼可能被它們掌握？</p>
<p>這正是 Upstash 團隊開發 Context7 的原因。</p>
<h2 id="Context7：讓你的-AI-助手立即獲得最新文件"><a href="#Context7：讓你的-AI-助手立即獲得最新文件" class="headerlink" title="Context7：讓你的 AI 助手立即獲得最新文件"></a>Context7：讓你的 AI 助手立即獲得最新文件</h2><p>Context7 是一個專為大型語言模型（LLM）和 AI 程式編輯器設計的即時文件提供工具。它能確保你的 AI 助手（如 Claude、GitHub Copilot、Cursor 等）可以獲取最新、最準確的技術文件，而不是依賴可能過時的訓練資料。</p>
<p>透過 Context7，不管你是使用 Next.js、Zod、Tailwind 這些快速迭代的框架，還是使用 LLM 可能從未見過的小眾函式庫，都能讓 AI 助手產生正確的程式碼。</p>
<h2 id="主要功能與特色"><a href="#主要功能與特色" class="headerlink" title="主要功能與特色"></a>主要功能與特色</h2><p>Context7 的核心功能在於自動從官方文件中提取高品質、精準的程式碼片段，並將它們轉換為 AI 可理解的上下文。這些功能包括：</p>
<ul>
<li><strong>即時文件獲取</strong>：直接從原始碼和官方文件中提取最新資訊</li>
<li><strong>MCP 伺服器整合</strong>：支援模型上下文協議（Model Context Protocol），可與支援 MCP 的編輯器和 AI 助手無縫整合</li>
<li><strong>智慧過濾與排名</strong>：使用專有演算法處理和篩選文件內容，確保只提供相關且有用的資訊</li>
<li><strong>跨平台支援</strong>：適用於 Cursor、Windsurf、VS Code、Zed、Claude Desktop 等多種編輯器和工具</li>
</ul>
<h2 id="實際使用體驗"><a href="#實際使用體驗" class="headerlink" title="實際使用體驗"></a>實際使用體驗</h2><p>過去，當我們要讓 AI 助手使用特定函式庫時，必須自己複製文件的程式碼片段貼到提示中。有了 Context7，只需在 Cursor 等支援 MCP 的編輯器中說「use context7」，系統就會自動獲取最新文件。</p>
<p>例如，在 Cursor 中使用 Context7 只需簡單設定：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;context7&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;-y&quot;</span><span class="punctuation">,</span> <span class="string">&quot;@upstash/context7-mcp@latest&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>設定完成後，就能使用兩個核心工具：</p>
<ol>
<li><strong>resolve-library-id</strong>：將一般的函式庫名稱轉換為 Context7 相容的函式庫 ID</li>
<li><strong>get-library-docs</strong>：使用上一步獲得的 ID 獲取文件內容</li>
</ol>
<p>現在，當你要求 AI 助手「使用 Nuxt UI 建立一個有自動完成功能的下拉選單」時，它可以獲取 Nuxt UI 的最新文件，而不是依賴可能過時的知識。</p>
<h2 id="為何-Context7-對開發者重要"><a href="#為何-Context7-對開發者重要" class="headerlink" title="為何 Context7 對開發者重要"></a>為何 Context7 對開發者重要</h2><p>在 AI 輔助開發時代，Context7 解決了一個關鍵問題：即使是最先進的 LLM 也無法知道它們訓練後發布的新函式庫或 API 變更。這個問題對於下列情況尤為明顯：</p>
<ul>
<li>快速迭代的框架（如 Next.js、React Query）</li>
<li>較新或小眾的函式庫</li>
<li>自定義或內部函式庫</li>
</ul>
<p>透過 Context7，開發者可以：</p>
<ul>
<li>減少除錯過時程式碼的時間</li>
<li>提高 AI 生成程式碼的準確性</li>
<li>讓 AI 助手成為更可靠的開發夥伴</li>
</ul>
<h2 id="開始使用-Context7"><a href="#開始使用-Context7" class="headerlink" title="開始使用 Context7"></a>開始使用 Context7</h2><p>Context7 由 Upstash 團隊開發和維護，完全免費使用。若要開始使用，你可以：</p>
<ol>
<li>在支援 MCP 的編輯器（如 Cursor、VS Code 等）中配置 Context7</li>
<li>使用 <code>resolve-library-id</code> 和 <code>get-library-docs</code> 來獲取文件</li>
<li>探索 context7.com 網站上的更多功能</li>
</ol>
<p>如果你是函式庫作者，還可以將自己的專案添加到 Context7，讓用戶更容易使用 AI 助手正確實作你的函式庫。</p>
<h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>隨著 AI 助手在程式開發中扮演越來越重要的角色，確保它們能獲取最新、最準確的文件變得至關重要。Context7 優雅地解決了這個問題，讓 AI 助手不再受限於訓練資料的限制。</p>
<p>對於那些想提高開發效率，同時確保程式碼品質的開發者來說，Context7 是連接 AI 助手和最新技術文件的重要橋樑。</p>
<p>試想一下，當你向 AI 助手詢問如何使用最新版本的函式庫時，它能立即獲取最新文件，為你提供準確的程式碼範例和說明——這不正是我們對 AI 助手的期望嗎？</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">告別Python套件地獄：為何資深工程師都在改用uv取代venv和conda？</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-04-18 10:05:00 / 修改時間：10:07:57" itemprop="dateCreated datePublished" datetime="2025-04-18T10:05:00+08:00">2025-04-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%A8%8B%E5%BC%8F%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">程式開發</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%A8%8B%E5%BC%8F%E9%96%8B%E7%99%BC/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>2.3k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="前言：虛擬環境，工程師的日常痛點"><a href="#前言：虛擬環境，工程師的日常痛點" class="headerlink" title="前言：虛擬環境，工程師的日常痛點"></a>前言：虛擬環境，工程師的日常痛點</h2><p>作為一名Python開發者，你是否曾經歷過以下場景：專案套件版本衝突、環境設定耗時、安裝速度慢到讓你有時間泡一杯咖啡再回來？我想，大多數Python開發者都曾面臨這些挑戰。虛擬環境工具本應是解決這些問題的救星，但有時反而成了新的麻煩來源。</p>
<p>在我的Python生涯中，我從最初的venv，到後來的conda，再到最近發現的uv，走過了一段「尋找完美虛擬環境工具」的旅程。今天，我想分享這段旅程，以及為什麼我最終選擇了uv作為我的首選工具。</p>
<h2 id="venv：Python的原生解決方案"><a href="#venv：Python的原生解決方案" class="headerlink" title="venv：Python的原生解決方案"></a>venv：Python的原生解決方案</h2><h3 id="什麼是venv？"><a href="#什麼是venv？" class="headerlink" title="什麼是venv？"></a>什麼是venv？</h3><p>venv是Python 3.3後內建的虛擬環境創建工具，它的主要優點是「官方、內建、無需額外安裝」。使用venv非常簡單：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m venv myenv</span><br><span class="line"><span class="built_in">source</span> myenv/bin/activate  <span class="comment"># 在Windows上使用 myenv\Scripts\activate</span></span><br></pre></td></tr></table></figure>

<h3 id="venv的優點"><a href="#venv的優點" class="headerlink" title="venv的優點"></a>venv的優點</h3><ul>
<li><strong>輕量級</strong>：不需要額外安裝，Python自帶</li>
<li><strong>簡單直接</strong>：概念容易理解，指令簡潔</li>
<li><strong>官方支援</strong>：作為Python官方推薦的解決方案，有良好的文件支援</li>
</ul>
<h3 id="venv的痛點"><a href="#venv的痛點" class="headerlink" title="venv的痛點"></a>venv的痛點</h3><ul>
<li><strong>套件安裝速度慢</strong>：pip在解析依賴時效率不高</li>
<li><strong>缺乏環境管理</strong>：管理多個環境時不夠方便</li>
<li><strong>非Python套件處理困難</strong>：當專案需要非Python的依賴（如C函式庫）時，venv無能為力</li>
</ul>
<p>我曾在一個中型專案中使用venv，當requirements.txt達到50+套件時，每次在新機器上建立環境都需要等待5-10分鐘。這點讓團隊新成員的入職時間大大延長。</p>
<h2 id="conda：數據科學的瑞士刀"><a href="#conda：數據科學的瑞士刀" class="headerlink" title="conda：數據科學的瑞士刀"></a>conda：數據科學的瑞士刀</h2><h3 id="什麼是conda？"><a href="#什麼是conda？" class="headerlink" title="什麼是conda？"></a>什麼是conda？</h3><p>conda是Anaconda發布的開源套件管理系統和環境管理系統，特別受到數據科學家和機器學習工程師的歡迎。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n myenv python=3.10</span><br><span class="line">conda activate myenv</span><br></pre></td></tr></table></figure>

<h3 id="conda的優點"><a href="#conda的優點" class="headerlink" title="conda的優點"></a>conda的優點</h3><ul>
<li><strong>跨語言支援</strong>：不僅管理Python套件，還能管理其他語言如R、C++等</li>
<li><strong>環境管理強大</strong>：易於創建、切換、導出環境</li>
<li><strong>二進位套件</strong>：提供預編譯的二進位套件，避免了編譯時間</li>
<li><strong>科學計算生態優勢</strong>：在數據科學領域有豐富的預配置環境</li>
</ul>
<h3 id="conda的痛點"><a href="#conda的痛點" class="headerlink" title="conda的痛點"></a>conda的痛點</h3><ul>
<li><strong>體積龐大</strong>：完整安裝Anaconda需要數GB空間</li>
<li><strong>啟動緩慢</strong>：conda環境激活比venv慢</li>
<li><strong>套件解析時間長</strong>：在複雜依賴時，conda的依賴解析可能非常耗時</li>
<li><strong>企業環境的網路限制</strong>：在某些企業環境中，conda的網路要求可能會遇到阻礙</li>
</ul>
<p>在一個數據分析專案中，我使用conda建立環境時，依賴解析花了近20分鐘，而實際安裝又花了15分鐘。這讓我開始思考：是否有更高效的選擇？</p>
<h2 id="uv：驚人的速度與簡約美學"><a href="#uv：驚人的速度與簡約美學" class="headerlink" title="uv：驚人的速度與簡約美學"></a>uv：驚人的速度與簡約美學</h2><h3 id="什麼是uv？"><a href="#什麼是uv？" class="headerlink" title="什麼是uv？"></a>什麼是uv？</h3><p>uv是一個由Astral（前身是Sentry團隊成員創立的公司）開發的新一代Python套件安裝器和解析器，以Rust編寫，追求極致的性能和用戶體驗。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install uv</span><br><span class="line">uv venv myenv</span><br><span class="line"><span class="built_in">source</span> myenv/bin/activate  <span class="comment"># 或在Windows上使用 myenv\Scripts\activate</span></span><br><span class="line">uv pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h3 id="uv的優點"><a href="#uv的優點" class="headerlink" title="uv的優點"></a>uv的優點</h3><ul>
<li><strong>驚人的速度</strong>：比pip快10倍，甚至比conda快更多</li>
<li><strong>兼容性好</strong>：完全兼容pip的命令和功能</li>
<li><strong>依賴解析優化</strong>：智能的依賴解析演算法，減少衝突</li>
<li><strong>輕量設計</strong>：安裝體積小，啟動迅速</li>
<li><strong>現代化介面</strong>：提供友好的錯誤訊息和進度顯示</li>
</ul>
<h3 id="uv的潛在問題"><a href="#uv的潛在問題" class="headerlink" title="uv的潛在問題"></a>uv的潛在問題</h3><ul>
<li><strong>相對較新</strong>：作為新工具，社群支援和文件可能不如venv和conda豐富</li>
<li><strong>特殊套件支援</strong>：某些罕見的或特殊的套件可能存在兼容性問題</li>
<li><strong>企業採用慢</strong>：保守的企業環境可能需要時間來接受新工具</li>
</ul>
<h2 id="真實對比：三者性能實測"><a href="#真實對比：三者性能實測" class="headerlink" title="真實對比：三者性能實測"></a>真實對比：三者性能實測</h2><p>為了客觀比較，我在同一台機器上使用三種工具安裝相同的專案（包含50個套件，包括numpy、pandas、django等流行庫）：</p>
<table>
<thead>
<tr>
<th>工具</th>
<th>環境創建時間</th>
<th>套件安裝時間</th>
<th>總計</th>
</tr>
</thead>
<tbody><tr>
<td>venv + pip</td>
<td>2秒</td>
<td>325秒</td>
<td>327秒</td>
</tr>
<tr>
<td>conda</td>
<td>5秒</td>
<td>580秒</td>
<td>585秒</td>
</tr>
<tr>
<td>uv</td>
<td>2秒</td>
<td>32秒</td>
<td>34秒</td>
</tr>
</tbody></table>
<p>結果令人驚訝：uv比傳統方法快了將近10倍！</p>
<h2 id="為什麼我選擇了uv？"><a href="#為什麼我選擇了uv？" class="headerlink" title="為什麼我選擇了uv？"></a>為什麼我選擇了uv？</h2><p>經過長期的使用和比較，我選擇uv的原因主要有：</p>
<ol>
<li><p><strong>開發效率的顯著提升</strong>：當你每天需要在多個專案間切換，或經常設定新環境時，uv節省的時間累積起來非常可觀</p>
</li>
<li><p><strong>減少等待的心理負擔</strong>：快速的環境設定和套件安裝讓我能保持思考的連續性，不再被漫長的等待打斷</p>
</li>
<li><p><strong>團隊協作的流暢度提升</strong>：新團隊成員可以在幾分鐘內完成環境設定，大大降低了入職門檻</p>
</li>
<li><p><strong>優雅的錯誤處理</strong>：uv提供的錯誤訊息更為清晰，幫助我快速定位和解決問題</p>
</li>
<li><p><strong>輕量級設計符合我的美學</strong>：作為一個推崇簡約設計的開發者，uv的輕量級設計理念與我不謀而合</p>
</li>
</ol>
<h2 id="實用建議：如何平滑過渡到uv"><a href="#實用建議：如何平滑過渡到uv" class="headerlink" title="實用建議：如何平滑過渡到uv"></a>實用建議：如何平滑過渡到uv</h2><p>如果你也想嘗試uv，這裡有一些實用建議：</p>
<ol>
<li><p><strong>漸進式導入</strong>：不需要一次性替換所有專案，可以從新專案開始嘗試</p>
</li>
<li><p><strong>保留兼容性</strong>：uv生成的環境與標準venv兼容，可以繼續使用熟悉的工作流程</p>
</li>
<li><p><strong>結合使用</strong>：在某些特殊場景（如需要非Python依賴時），可以考慮結合conda使用</p>
</li>
<li><p><strong>關注更新</strong>：作為活躍開發的項目，定期更新uv以獲得最新的改進和bug修復</p>
</li>
</ol>
<h2 id="結語：工具選擇的藝術"><a href="#結語：工具選擇的藝術" class="headerlink" title="結語：工具選擇的藝術"></a>結語：工具選擇的藝術</h2><p>選擇開發工具是一門藝術，沒有放諸四海而皆準的答案。venv、conda和uv各有所長，關鍵在於找到最適合你工作流程的那一個。</p>
<p>對我而言，uv帶來的效率提升和使用體驗改善足以讓我做出轉換。但我也建議你根據自己的需求和環境進行評估。畢竟，最好的工具永遠是那個能幫你解決問題，同時不製造新問題的工具。</p>
<p>如果你對Python開發效率感興趣，不妨給uv一個機會。也許它同樣能為你帶來驚喜，就像它為我帶來的那樣。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">告別背包中自動喚醒的筆電：用 PowerShell 一鍵關閉藍牙裝置喚醒功能</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-03-31 14:30:00 / 修改時間：09:45:59" itemprop="dateCreated datePublished" datetime="2025-03-31T14:30:00+08:00">2025-03-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93%E5%B0%8F%E6%8A%80%E5%B7%A7/" itemprop="url" rel="index"><span itemprop="name">技術小技巧</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%8A%80%E8%A1%93%E5%B0%8F%E6%8A%80%E5%B7%A7/Windows-%E8%AA%BF%E6%A0%A1/" itemprop="url" rel="index"><span itemprop="name">Windows 調校</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>2.7k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>2 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="告別背包中自動喚醒的筆電：用-PowerShell-一鍵關閉藍牙裝置喚醒功能"><a href="#告別背包中自動喚醒的筆電：用-PowerShell-一鍵關閉藍牙裝置喚醒功能" class="headerlink" title="告別背包中自動喚醒的筆電：用 PowerShell 一鍵關閉藍牙裝置喚醒功能"></a>告別背包中自動喚醒的筆電：用 PowerShell 一鍵關閉藍牙裝置喚醒功能</h1><p>你有沒有遇過這樣的情況：筆電明明已經關上放進背包，卻在包裡莫名其妙地自己開機，到了目的地打開包發現電腦不僅發燙，電量還徹底耗盡？這種「背包中開趴」的情況很可能是因為你的藍牙滑鼠或其他藍牙裝置在背包中被不小心碰觸，進而喚醒了電腦所導致。</p>
<p>昨天我又一次經歷了這個惱人的問題，當我抵達咖啡廳後，打開背包才發現筆電已經沒電自動關機，整個下午的工作計畫全部泡湯。這次我決定徹底解決這個問題，找到了一個優雅的一勞永逸解法。</p>
<h2 id="罪魁禍首：藍牙裝置的喚醒權限"><a href="#罪魁禍首：藍牙裝置的喚醒權限" class="headerlink" title="罪魁禍首：藍牙裝置的喚醒權限"></a>罪魁禍首：藍牙裝置的喚醒權限</h2><p>Windows 預設允許許多連接的裝置具有「喚醒電腦」的權限，尤其是滑鼠和鍵盤。這項功能在某些情境下很有用，比如想要遠端喚醒電腦時。但對於筆記型電腦使用者來說，這常常變成一場災難。</p>
<p>藍牙滑鼠在背包中的稍微移動就會被系統判定為「使用者想要喚醒電腦」的信號，結果就是電腦在密閉的背包環境中偷偷開機，不僅浪費電力，長時間下來還可能因過熱造成硬體損傷。</p>
<h2 id="PowerShell-救援：一鍵關閉所有裝置的喚醒功能"><a href="#PowerShell-救援：一鍵關閉所有裝置的喚醒功能" class="headerlink" title="PowerShell 救援：一鍵關閉所有裝置的喚醒功能"></a>PowerShell 救援：一鍵關閉所有裝置的喚醒功能</h2><p>雖然可以在裝置管理員中手動一個個關閉各裝置的喚醒權限，但這個過程既繁瑣又容易遺漏。使用 PowerShell 可以一次性解決這個問題，尤其適合經常連接不同藍牙裝置的使用者。</p>
<p>以下是我測試有效的 PowerShell 指令，只要執行一次，就能禁止所有藍牙裝置喚醒你的電腦：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找出所有可喚醒電腦的設備並關閉喚醒功能</span></span><br><span class="line"><span class="built_in">Get-WmiObject</span> MSPower_DeviceWakeEnable <span class="literal">-Namespace</span> root\wmi | <span class="built_in">ForEach-Object</span> &#123; </span><br><span class="line">    <span class="variable">$_</span>.Enable = <span class="variable">$false</span></span><br><span class="line">    <span class="variable">$_</span>.psbase.Put()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 關閉所有設備的喚醒功能</span></span><br><span class="line"><span class="built_in">Get-CimInstance</span> <span class="literal">-Namespace</span> root/cimv2 <span class="literal">-ClassName</span> Win32_DeviceChangeEvent <span class="literal">-Filter</span> <span class="string">&quot;EventType = 2&quot;</span> | </span><br><span class="line"><span class="built_in">ForEach-Object</span> &#123;</span><br><span class="line">    <span class="variable">$device</span> = <span class="built_in">Get-CimInstance</span> <span class="literal">-ClassName</span> Win32_PnPEntity <span class="literal">-Filter</span> <span class="string">&quot;DeviceID = &#x27;<span class="variable">$</span>(<span class="variable">$_</span>.DeviceID)&#x27;&quot;</span></span><br><span class="line">    <span class="variable">$devicePath</span> = <span class="variable">$device</span>.PNPDeviceID</span><br><span class="line">    <span class="built_in">Set-ItemProperty</span> <span class="literal">-Path</span> <span class="string">&quot;HKLM:\SYSTEM\CurrentControlSet\Enum\<span class="variable">$devicePath</span>\Device Parameters&quot;</span> <span class="literal">-Name</span> <span class="string">&quot;WakeEnabled&quot;</span> <span class="literal">-Value</span> <span class="number">0</span> <span class="literal">-Type</span> DWord <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;已關閉所有設備的喚醒功能&quot;</span> <span class="literal">-ForegroundColor</span> Green</span><br></pre></td></tr></table></figure>

<p>這段程式碼做了什麼？它使用 Windows Management Instrumentation (WMI) 找出所有具有喚醒權限的裝置，然後將它們的喚醒功能統一設為停用。整個過程自動化完成，不需要手動點擊每個裝置進行設定。</p>
<h2 id="只想關閉藍牙裝置的喚醒功能？"><a href="#只想關閉藍牙裝置的喚醒功能？" class="headerlink" title="只想關閉藍牙裝置的喚醒功能？"></a>只想關閉藍牙裝置的喚醒功能？</h2><p>如果你不想一刀切地關閉所有裝置的喚醒功能，而只想針對藍牙裝置進行控制，這個更有針對性的 PowerShell 指令更適合你：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找出所有藍牙設備</span></span><br><span class="line"><span class="variable">$bluetoothDevices</span> = <span class="built_in">Get-PnpDevice</span> <span class="literal">-Class</span> Bluetooth <span class="literal">-PresentOnly</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 針對每個藍牙設備，檢查並關閉其喚醒功能</span></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$device</span> <span class="keyword">in</span> <span class="variable">$bluetoothDevices</span>) &#123;</span><br><span class="line">    <span class="variable">$instanceId</span> = <span class="variable">$device</span>.InstanceId</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 檢查設備電源管理設定</span></span><br><span class="line">    <span class="variable">$powerMgmt</span> = <span class="built_in">Get-WmiObject</span> <span class="literal">-Class</span> MSPower_DeviceWakeEnable <span class="literal">-Namespace</span> root\wmi <span class="literal">-Filter</span> <span class="string">&quot;InstanceName LIKE &#x27;%<span class="variable">$instanceId</span>%&#x27;&quot;</span> <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$powerMgmt</span>) &#123;</span><br><span class="line">        <span class="built_in">Write-Host</span> <span class="string">&quot;關閉設備喚醒功能: <span class="variable">$</span>(<span class="variable">$device</span>.FriendlyName)&quot;</span> <span class="literal">-ForegroundColor</span> Yellow</span><br><span class="line">        <span class="variable">$powerMgmt</span>.Enable = <span class="variable">$false</span></span><br><span class="line">        <span class="variable">$powerMgmt</span>.psbase.Put()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;已關閉所有藍牙設備的喚醒功能&quot;</span> <span class="literal">-ForegroundColor</span> Green</span><br></pre></td></tr></table></figure>

<p>這段程式碼會列出每個被修改的藍牙裝置名稱，讓你清楚知道哪些裝置已經被處理過。</p>
<h2 id="如何確認設定已生效？"><a href="#如何確認設定已生效？" class="headerlink" title="如何確認設定已生效？"></a>如何確認設定已生效？</h2><p>完成設定後，你可能想確認這些更改是否成功應用。執行以下指令可以列出所有裝置的喚醒狀態：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出所有可喚醒電腦的設備</span></span><br><span class="line"><span class="built_in">Get-WmiObject</span> MSPower_DeviceWakeEnable <span class="literal">-Namespace</span> root\wmi | <span class="built_in">Format-Table</span> <span class="literal">-Property</span> InstanceName, Enable</span><br></pre></td></tr></table></figure>

<p>如果設定成功，你會看到所有（或所有藍牙）裝置的 Enable 欄位都顯示為 False。</p>
<h2 id="無法執行-PowerShell？這裡有手動設定方法"><a href="#無法執行-PowerShell？這裡有手動設定方法" class="headerlink" title="無法執行 PowerShell？這裡有手動設定方法"></a>無法執行 PowerShell？這裡有手動設定方法</h2><p>如果你不方便執行 PowerShell 指令，或者不太熟悉命令列操作，以下是透過圖形界面手動設定的步驟：</p>
<ol>
<li>按下 Win+X 鍵組合，選擇「裝置管理員」</li>
<li>在清單中找到並展開「藍牙」分類</li>
<li>右鍵點擊你的藍牙滑鼠（或其他藍牙裝置），選擇「內容」</li>
<li>切換到「電源管理」標籤</li>
<li>取消勾選「允許這個裝置喚醒電腦」選項</li>
<li>點擊「確定」儲存設定</li>
<li>對所有藍牙裝置重複以上步驟</li>
</ol>
<p>雖然這個方法相對繁瑣，但對於只有少數幾個藍牙裝置的使用者來說也是個可行的解決方案。</p>
<h2 id="成果：告別背包中的電池耗盡危機"><a href="#成果：告別背包中的電池耗盡危機" class="headerlink" title="成果：告別背包中的電池耗盡危機"></a>成果：告別背包中的電池耗盡危機</h2><p>實施這個解決方案後，我終於告別了背包中電腦莫名其妙開機的問題。即使滑鼠在包中被移動或按鍵被碰觸，電腦也能安然地保持睡眠狀態，不再無辜耗盡電池。最重要的是，我再也不用擔心到了重要場合才發現筆電沒電的尷尬情況。</p>
<p>這個小技巧看似簡單，卻能有效解決一個常被忽視但令人煩惱的問題。透過這個設定，我的筆電與STEAMDECK電池壽命實際上延長了不少，因為它不再在我不知情的情況下偷偷耗電。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">IIS 401.3 權限錯誤完全解析：為什麼新增 IUSR 是救命關鍵</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>
      

      <time title="創建時間：2025-03-24 15:30:00 / 修改時間：18:34:46" itemprop="dateCreated datePublished" datetime="2025-03-24T15:30:00+08:00">2025-03-24</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%B6%B2%E9%A0%81%E4%BC%BA%E6%9C%8D%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">網頁伺服器</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%B6%B2%E9%A0%81%E4%BC%BA%E6%9C%8D%E5%99%A8/%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4/" itemprop="url" rel="index"><span itemprop="name">故障排除</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>2.9k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>3 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="當你的網站突然拒絕訪客，顯示-401-3-錯誤"><a href="#當你的網站突然拒絕訪客，顯示-401-3-錯誤" class="headerlink" title="當你的網站突然拒絕訪客，顯示 401.3 錯誤"></a>當你的網站突然拒絕訪客，顯示 401.3 錯誤</h2><p>你是否曾經碰到過這樣的情境：辛苦架設好的網站部署到 IIS 上，一切設定看起來都很完美，但當你試著從瀏覽器訪問時，卻看到這樣讓人頭痛的錯誤訊息：</p>
<blockquote>
<p>HTTP 錯誤 401.3 - Unauthorized<br>因為網頁伺服器上此資源的存取控制清單 (ACL) 設定或加密設定的緣故，您沒有檢視此目錄或網頁的權限。</p>
</blockquote>
<p>這個讓人抓狂的錯誤往往會讓你懷疑自己是不是漏了什麼重要設定，特別是當你確信已經正確配置網站的其他部分時。今天，我們就要徹底解析這個常見但令人困擾的問題，並解釋為什麼簡單地新增 IUSR 權限往往就能解決它。</p>
<h2 id="理解-HTTP-401-3-錯誤的真正含義"><a href="#理解-HTTP-401-3-錯誤的真正含義" class="headerlink" title="理解 HTTP 401.3 錯誤的真正含義"></a>理解 HTTP 401.3 錯誤的真正含義</h2><p>在深入解決方案前，讓我們先了解這個錯誤的真正含義。HTTP 401.3 是 IIS 特有的狀態碼，它表示「由於 ACL 限制，您的請求被拒絕」。與一般的 401 錯誤（表示認證失敗）不同，401.3 特別指出這是檔案系統權限問題，而非網站認證機制的問題。</p>
<p>簡單來說，這個錯誤是在告訴你：「IIS 想要提供你請求的資源，但它沒有足夠的系統權限來讀取或存取這些檔案。」</p>
<h2 id="IUSR：IIS-中默默付出的匿名英雄"><a href="#IUSR：IIS-中默默付出的匿名英雄" class="headerlink" title="IUSR：IIS 中默默付出的匿名英雄"></a>IUSR：IIS 中默默付出的匿名英雄</h2><p>這就是 IUSR 帳戶登場的時刻。但 IUSR 到底是什麼？為什麼它如此重要？</p>
<p>IUSR（Internet User）是 IIS 中用於處理匿名訪問的預設帳戶。每當有人在未登入的狀態下訪問你的網站時，IIS 就會以 IUSR 的身分來嘗試存取網站資源。這就像餐廳的服務生：當客人（網站訪客）點餐時，服務生（IUSR）需要有足夠的權限進入廚房（網站檔案）取得所需的菜餚。</p>
<p>當你的網站資料夾沒有賦予 IUSR 適當的存取權限時，這位「服務生」就無法取得客人所需的資源，從而導致 401.3 錯誤的發生。</p>
<h2 id="解決方案：授予-IUSR-適當的權限"><a href="#解決方案：授予-IUSR-適當的權限" class="headerlink" title="解決方案：授予 IUSR 適當的權限"></a>解決方案：授予 IUSR 適當的權限</h2><p>解決這個問題的方法很直接：我們需要賦予 IUSR 帳戶足夠的權限來存取網站資源。以下是詳細步驟：</p>
<h3 id="1-找到你的網站根目錄"><a href="#1-找到你的網站根目錄" class="headerlink" title="1. 找到你的網站根目錄"></a>1. 找到你的網站根目錄</h3><p>首先，找到你的網站檔案所在的實體路徑。通常是在：</p>
<ul>
<li><code>C:\inetpub\wwwroot\你的網站名稱</code></li>
<li>或是你自定義的其他位置</li>
</ul>
<h3 id="2-設定資料夾權限"><a href="#2-設定資料夾權限" class="headerlink" title="2. 設定資料夾權限"></a>2. 設定資料夾權限</h3><ol>
<li>在檔案總管中，右鍵點選該資料夾</li>
<li>選擇「內容」</li>
<li>切換到「安全性」頁籤</li>
<li>點選「編輯」按鈕</li>
<li>點選「新增」按鈕</li>
<li>在「輸入物件名稱來選取」欄位中，輸入「IUSR」</li>
<li>點選「檢查名稱」，系統會自動找到完整的帳戶名稱</li>
<li>點選「確定」</li>
</ol>
<h3 id="3-設定適當的權限級別"><a href="#3-設定適當的權限級別" class="headerlink" title="3. 設定適當的權限級別"></a>3. 設定適當的權限級別</h3><p>對於 IUSR 帳戶，通常建議設定以下權限：</p>
<ul>
<li>✅ 讀取與執行</li>
<li>✅ 列出資料夾內容</li>
<li>✅ 讀取</li>
</ul>
<p>對於大多數靜態網站而言，這些權限已經足夠。如果你的網站需要上傳功能或寫入操作，你可能還需要加上「寫入」權限，但僅限於需要的特定資料夾，避免賦予過多不必要的權限。</p>
<h3 id="4-應用變更"><a href="#4-應用變更" class="headerlink" title="4. 應用變更"></a>4. 應用變更</h3><p>點選「確定」數次，確保所有變更都已被應用。</p>
<h3 id="5-重啟-IIS"><a href="#5-重啟-IIS" class="headerlink" title="5. 重啟 IIS"></a>5. 重啟 IIS</h3><ol>
<li>以管理員身分運行命令提示字元</li>
<li>輸入 <code>iisreset</code> 命令</li>
<li>等待 IIS 重新啟動完成</li>
</ol>
<p>完成以上步驟後，再次訪問你的網站，401.3 錯誤應該已經消失了。</p>
<h2 id="IUSR-vs-IIS-IUSRS：兩種帳戶，不同使用時機"><a href="#IUSR-vs-IIS-IUSRS：兩種帳戶，不同使用時機" class="headerlink" title="IUSR vs. IIS_IUSRS：兩種帳戶，不同使用時機"></a>IUSR vs. IIS_IUSRS：兩種帳戶，不同使用時機</h2><p>在處理 IIS 權限問題時，經常會遇到兩個關鍵帳戶：IUSR 和 IIS_IUSRS。很多工程師對這兩者的區別和使用時機感到困惑。如果你已經添加了 IUSR 並解決了問題，你可能會想：「那 IIS_IUSRS 是否必要？」讓我們來澄清這個常見疑問。</p>
<h3 id="什麼是-IIS-IUSRS-群組？"><a href="#什麼是-IIS-IUSRS-群組？" class="headerlink" title="什麼是 IIS_IUSRS 群組？"></a>什麼是 IIS_IUSRS 群組？</h3><p>如果將 IUSR 比喻為「匿名訪客的服務生」，那麼 IIS_IUSRS 就像是「整個服務團隊」：</p>
<ul>
<li><strong>IIS_IUSRS</strong> 是一個 Windows 安全群組，包含了所有 IIS 相關的帳戶</li>
<li>這個群組中自動包含了 IUSR 以及所有應用程式集區的身分</li>
<li>在新版 Windows Server 和 IIS 中，它替代了舊版中的 IIS_WPG 群組</li>
</ul>
<h3 id="何時只需要-IUSR？"><a href="#何時只需要-IUSR？" class="headerlink" title="何時只需要 IUSR？"></a>何時只需要 IUSR？</h3><p>在以下情況下，只設定 IUSR 權限就足夠了：</p>
<ul>
<li>網站只使用匿名驗證模式</li>
<li>應用程式集區使用預設身分 (ApplicationPoolIdentity)</li>
<li>網站結構相對簡單，沒有特殊的存取需求</li>
<li>你希望遵循最小權限原則，只授予必要的最低權限</li>
</ul>
<p>大多數基本的靜態網站或簡單的動態網站都屬於這種情況。</p>
<h3 id="何時需要添加-IIS-IUSRS？"><a href="#何時需要添加-IIS-IUSRS？" class="headerlink" title="何時需要添加 IIS_IUSRS？"></a>何時需要添加 IIS_IUSRS？</h3><p>在以下情況下，添加 IIS_IUSRS 群組可能更為適合：</p>
<ul>
<li>網站使用多種驗證方式（匿名 + Windows 驗證 + 表單驗證等）</li>
<li>使用多個應用程式集區或自定義的應用程式集區身分</li>
<li>網站結構複雜，有多個需要不同權限的子應用程式</li>
<li>你希望簡化權限管理，使用「一勞永逸」的方式設定</li>
</ul>
<p>企業級應用、複雜的 Web 應用程式或需要整合多個服務的網站通常需要這種設定。</p>
<h3 id="安全考量：找到平衡點"><a href="#安全考量：找到平衡點" class="headerlink" title="安全考量：找到平衡點"></a>安全考量：找到平衡點</h3><p>從安全角度來看，選擇 IUSR 還是 IIS_IUSRS 實際上是一個權限範圍與管理便利性之間的權衡：</p>
<ul>
<li><strong>只使用 IUSR</strong>：權限範圍較小，安全性較高，但可能需要在網站變得複雜時重新設定權限</li>
<li><strong>使用 IIS_IUSRS</strong>：覆蓋所有 IIS 相關帳戶，管理便利，但權限範圍較廣</li>
</ul>
<p>遵循安全最佳實踐，建議先從最小權限開始（只添加 IUSR），如果網站功能需要，再逐步擴展權限。</p>
<h2 id="進階權限配置：更全面的解決方案"><a href="#進階權限配置：更全面的解決方案" class="headerlink" title="進階權限配置：更全面的解決方案"></a>進階權限配置：更全面的解決方案</h2><p>雖然新增 IUSR 權限是解決 401.3 錯誤的最常見方法，但在某些情況下，你可能需要考慮以下額外的設定：</p>
<h3 id="1-檢查應用程式集區身分"><a href="#1-檢查應用程式集區身分" class="headerlink" title="1. 檢查應用程式集區身分"></a>1. 檢查應用程式集區身分</h3><p>應用程式集區（Application Pool）的執行身分也會影響檔案存取權限：</p>
<ol>
<li>開啟 IIS 管理員</li>
<li>在左側樹狀目錄中找到「應用程式集區」</li>
<li>右鍵點選你的網站使用的應用程式集區</li>
<li>選擇「進階設定」</li>
<li>檢查「身分」設定</li>
</ol>
<p>如果你使用自定義身分，確保該帳戶也具有網站資料夾的適當權限。</p>
<h3 id="2-特殊資料夾的權限設定"><a href="#2-特殊資料夾的權限設定" class="headerlink" title="2. 特殊資料夾的權限設定"></a>2. 特殊資料夾的權限設定</h3><p>除了網站根目錄外，有些特殊資料夾可能需要額外的權限設定：</p>
<ul>
<li><strong>暫存檔資料夾</strong>：需要寫入權限</li>
<li><strong>上傳資料夾</strong>：需要寫入權限</li>
<li><strong>日誌資料夾</strong>：需要修改權限</li>
<li><strong>應用程式資料資料夾</strong>：可能需要完全控制權限（但要謹慎評估）</li>
</ul>
<h3 id="3-使用命令列快速設定權限"><a href="#3-使用命令列快速設定權限" class="headerlink" title="3. 使用命令列快速設定權限"></a>3. 使用命令列快速設定權限</h3><p>如果你管理多個站點或需要頻繁設定權限，使用命令列可以提高效率：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">icacls &quot;C:\inetpub\wwwroot\你的網站路徑&quot; /grant &quot;IUSR&quot;:(OI)(CI)(RX) /T</span><br></pre></td></tr></table></figure>

<p>這個命令會遞迴地賦予 IUSR 對指定資料夾及其所有子資料夾和檔案的「讀取與執行」權限。</p>
<h2 id="安全性最佳實踐"><a href="#安全性最佳實踐" class="headerlink" title="安全性最佳實踐"></a>安全性最佳實踐</h2><p>在解決 401.3 錯誤的同時，別忘了遵循以下安全性最佳實踐：</p>
<h3 id="1-最小權限原則"><a href="#1-最小權限原則" class="headerlink" title="1. 最小權限原則"></a>1. 最小權限原則</h3><p>只賦予必要的最低權限。例如，如果網站只需要讀取權限，就不要賦予寫入或修改權限。</p>
<h3 id="2-定期審查權限設定"><a href="#2-定期審查權限設定" class="headerlink" title="2. 定期審查權限設定"></a>2. 定期審查權限設定</h3><p>定期檢查並審查網站資料夾的權限設定，確保沒有不必要的權限被授予。</p>
<h3 id="3-使用更安全的認證方式"><a href="#3-使用更安全的認證方式" class="headerlink" title="3. 使用更安全的認證方式"></a>3. 使用更安全的認證方式</h3><p>如果網站包含敏感資訊，考慮禁用匿名驗證，改用 Windows 認證或表單認證等更安全的方式。</p>
<h3 id="4-啟用-HTTPS"><a href="#4-啟用-HTTPS" class="headerlink" title="4. 啟用 HTTPS"></a>4. 啟用 HTTPS</h3><p>使用 HTTPS 加密所有流量，特別是包含認證資訊的流量。</p>
<h2 id="總結：不只是修復錯誤，而是理解背後的安全機制"><a href="#總結：不只是修復錯誤，而是理解背後的安全機制" class="headerlink" title="總結：不只是修復錯誤，而是理解背後的安全機制"></a>總結：不只是修復錯誤，而是理解背後的安全機制</h2><p>HTTP 401.3 錯誤雖然令人煩惱，但它實際上是 IIS 的安全機制在正常運作的結果。通過理解 IUSR 的角色和適當設定檔案系統權限，你不僅能解決這個錯誤，還能更好地掌握 IIS 的安全架構。</p>
<p>下次當你遇到 401.3 錯誤時，不要慌張，記住：可能只是你的 IUSR「服務生」需要適當的「通行證」來為你的網站訪客提供服務。簡單地新增 IUSR 權限，往往就是解決這個問題的救命關鍵。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://kyosora.github.io/posts/undefined/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="kyosora">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="kyosora 虛空筆記">
      <meta itemprop="description" content="個人技術筆記和學習心得分享">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content=" | kyosora 虛空筆記">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/undefined/" class="post-title-link" itemprop="url">讓你的Claude如虎添翼：MCP功能實戰筆記</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">發表於</span>

      <time title="創建時間：2025-03-21 12:00:00" itemprop="dateCreated datePublished" datetime="2025-03-21T12:00:00+08:00">2025-03-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新於</span>
      <time title="修改時間：2025-03-31 15:16:02" itemprop="dateModified" datetime="2025-03-31T15:16:02+08:00">2025-03-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分類於</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI%E5%B7%A5%E5%85%B7/" itemprop="url" rel="index"><span itemprop="name">AI工具</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/AI%E5%B7%A5%E5%85%B7/Claude/" itemprop="url" rel="index"><span itemprop="name">Claude</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="閱讀次數">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">閱讀次數：</span>
      <span class="firestore-visitors-count"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="文章字數">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">文章字數：</span>
      <span>3.1k</span>
    </span>
    <span class="post-meta-item" title="所需閱讀時間">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">所需閱讀時間 &asymp;</span>
      <span>3 分鐘</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="喚醒沉睡的潛能：Claude桌面版的隱藏神器"><a href="#喚醒沉睡的潛能：Claude桌面版的隱藏神器" class="headerlink" title="喚醒沉睡的潛能：Claude桌面版的隱藏神器"></a>喚醒沉睡的潛能：Claude桌面版的隱藏神器</h2><p>還記得科幻電影中，AI助手能夠幫你整理檔案、搜尋資料、管理電腦嗎？這不再是科幻，而是現實。Anthropic最近悄悄為Claude桌面版添加了一項革命性功能——MCP（Model Context Protocol），讓你的AI助手終於能夠「看見」並「操作」你電腦中的檔案。</p>
<p>我第一次發現這功能時，簡直驚呆了：「等等，這是說Claude現在可以幫我整理桌面上的混亂檔案？」沒錯，而且還能做更多。</p>
<p>這篇文章將帶你一步步解鎖Claude的這項隱藏能力，讓你的AI助手真正成為你的數位管家。</p>
<h2 id="MCP是什麼？為何你應該立刻開啟它"><a href="#MCP是什麼？為何你應該立刻開啟它" class="headerlink" title="MCP是什麼？為何你應該立刻開啟它"></a>MCP是什麼？為何你應該立刻開啟它</h2><p>MCP（Model Context Protocol）簡單來說，就是一種讓Claude能夠與你電腦系統交互的協議。它創建了一個安全的橋樑，使Claude能夠獲得你授權的資料和執行你批准的操作。</p>
<p>最棒的是什麼？Claude絕不會偷偷行動。每次操作前，它都會徵求你的同意，讓你保持完全的控制權。</p>
<p>透過啟用MCP，你的Claude桌面版將能夠：</p>
<ul>
<li>讀取你指定資料夾中的檔案</li>
<li>創建並儲存新檔案</li>
<li>移動和整理檔案</li>
<li>搜尋符合特定條件的檔案</li>
</ul>
<p>如此一來，當你要求Claude「幫我整理桌面上的所有PDF檔案」或「幫我在下載資料夾中找出所有與專案相關的文件」時，它真的能做到！</p>
<h2 id="開啟超能力：設定步驟全攻略"><a href="#開啟超能力：設定步驟全攻略" class="headerlink" title="開啟超能力：設定步驟全攻略"></a>開啟超能力：設定步驟全攻略</h2><h3 id="步驟1：確認你有最新版的Claude桌面應用"><a href="#步驟1：確認你有最新版的Claude桌面應用" class="headerlink" title="步驟1：確認你有最新版的Claude桌面應用"></a>步驟1：確認你有最新版的Claude桌面應用</h3><p>首先，前往<a target="_blank" rel="noopener" href="https://claude.ai/download">Claude官方網站</a>下載桌面版。如果已經安裝，請點擊電腦上的Claude選單，選擇「Check for Updates...」確保使用最新版本。</p>
<p>目前MCP功能僅支援Windows和macOS，Linux用戶可能需要再等等（抱歉了，企鵝黨）。</p>
<h3 id="步驟2：設定MCP服務器"><a href="#步驟2：設定MCP服務器" class="headerlink" title="步驟2：設定MCP服務器"></a>步驟2：設定MCP服務器</h3><p>這是關鍵一步，也是最容易出錯的地方。別擔心，我們一起來：</p>
<ol>
<li>點擊電腦上的Claude選單（注意：不是應用程式視窗內的選單）</li>
<li>選擇「Settings...」</li>
<li>在左側欄位中點擊「Developer」</li>
<li>點擊「Edit Config」按鈕</li>
</ol>
<p><img src="https://mintlify.s3.us-west-1.amazonaws.com/mcp/images/quickstart-menu.png" alt="Claude設定選單"></p>
<p>這時系統會打開一個配置檔案。視你的作業系統不同，檔案路徑會是：</p>
<ul>
<li>macOS: <code>~/Library/Application Support/Claude/claude_desktop_config.json</code></li>
<li>Windows: <code>%APPDATA%\Claude\claude_desktop_config.json</code></li>
</ul>
<p>現在，將檔案內容替換為以下代碼（記得修改路徑）：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;filesystem&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;-y&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;/Users/你的用戶名/Desktop&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;/Users/你的用戶名/Downloads&quot;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>將上面的<code>你的用戶名</code>替換為你電腦的實際用戶名。這些路徑指定了你希望Claude能夠訪問的資料夾。你可以根據需求添加更多路徑，但建議從桌面和下載資料夾開始體驗。</p>
<h3 id="步驟3：安裝必要的依賴-Node-js"><a href="#步驟3：安裝必要的依賴-Node-js" class="headerlink" title="步驟3：安裝必要的依賴 - Node.js"></a>步驟3：安裝必要的依賴 - Node.js</h3><p>Claude的MCP功能依賴於Node.js。檢查你是否已安裝Node.js：</p>
<ol>
<li>打開終端機（macOS）或命令提示字元（Windows）</li>
<li>輸入以下命令：<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node --version</span><br></pre></td></tr></table></figure></li>
</ol>
<p>如果系統返回類似<code>v16.14.2</code>的版本號，則表示已安裝。如果出現「命令未找到」的錯誤，請前往<a target="_blank" rel="noopener" href="https://nodejs.org/">Node.js官網</a>下載並安裝。</p>
<p>Node.js就像是Claude與你電腦溝通的翻譯官，沒有它，Claude將無法執行你的請求。</p>
<h3 id="步驟4：重啟Claude，見證奇蹟時刻"><a href="#步驟4：重啟Claude，見證奇蹟時刻" class="headerlink" title="步驟4：重啟Claude，見證奇蹟時刻"></a>步驟4：重啟Claude，見證奇蹟時刻</h3><p>完成以上設定後，重新啟動Claude桌面版。如果一切順利，你會在輸入框右下角看到一個小錘子圖標：</p>
<p><img src="https://mintlify.s3.us-west-1.amazonaws.com/mcp/images/quickstart-hammer.png" alt="Claude的錘子圖標"></p>
<p>點擊這個圖標，你會看到文件系統MCP服務器提供的各種工具選項：</p>
<p><img src="https://mintlify.s3.us-west-1.amazonaws.com/mcp/images/quickstart-tools.png" alt="MCP工具選項"></p>
<p>恭喜你！你的Claude現在已經進化成具有文件操作能力的超級助手了。</p>
<h2 id="實際體驗：讓Claude展示它的新能力"><a href="#實際體驗：讓Claude展示它的新能力" class="headerlink" title="實際體驗：讓Claude展示它的新能力"></a>實際體驗：讓Claude展示它的新能力</h2><p>現在你可以向Claude提出各種與檔案系統相關的請求，例如：</p>
<ul>
<li>「能幫我寫一首詩並儲存到桌面嗎？」</li>
<li>「請幫我檢查下載資料夾中的Excel檔案，並分析其中的數據」</li>
<li>「能把桌面上的所有圖片檔案移動到一個名為『我的圖片』的新資料夾嗎？」</li>
</ul>
<p>當Claude需要執行檔案操作時，它會先徵求你的許可：</p>
<p><img src="https://mintlify.s3.us-west-1.amazonaws.com/mcp/images/quickstart-approve.png" alt="Claude徵求操作許可"></p>
<p>這確保了所有操作都在你的控制之下，安全無虞。</p>
<h2 id="故障排除：常見問題與解決方案"><a href="#故障排除：常見問題與解決方案" class="headerlink" title="故障排除：常見問題與解決方案"></a>故障排除：常見問題與解決方案</h2><h3 id="問題1：設定後看不到錘子圖標"><a href="#問題1：設定後看不到錘子圖標" class="headerlink" title="問題1：設定後看不到錘子圖標"></a>問題1：設定後看不到錘子圖標</h3><p>可能的原因和解決方法：</p>
<ul>
<li><strong>Claude未完全重啟</strong>：完全關閉Claude應用後再重新開啟</li>
<li><strong>配置檔案語法錯誤</strong>：檢查JSON格式是否正確</li>
<li><strong>路徑問題</strong>：確保使用絕對路徑而非相對路徑，且路徑存在</li>
<li><strong>Node.js未安裝</strong>：確認Node.js已正確安裝</li>
</ul>
<h3 id="問題2：Windows用戶出現ENOENT錯誤"><a href="#問題2：Windows用戶出現ENOENT錯誤" class="headerlink" title="問題2：Windows用戶出現ENOENT錯誤"></a>問題2：Windows用戶出現ENOENT錯誤</h3><p>這通常與環境變數有關。在配置檔案中添加環境變數設定：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;filesystem&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;-y&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;C:\\Users\\你的用戶名\\Desktop&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;C:\\Users\\你的用戶名\\Downloads&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;APPDATA&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C:\\Users\\你的用戶名\\AppData\\Roaming\\&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="問題3：如何查看錯誤日誌"><a href="#問題3：如何查看錯誤日誌" class="headerlink" title="問題3：如何查看錯誤日誌"></a>問題3：如何查看錯誤日誌</h3><p>日誌文件位於：</p>
<ul>
<li>macOS: <code>~/Library/Logs/Claude</code></li>
<li>Windows: <code>%APPDATA%\Claude\logs</code></li>
</ul>
<p>查看最近的日誌（macOS）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -n 20 -f ~/Library/Logs/Claude/mcp*.log</span><br></pre></td></tr></table></figure>

<h2 id="安全考量：值得注意的事項"><a href="#安全考量：值得注意的事項" class="headerlink" title="安全考量：值得注意的事項"></a>安全考量：值得注意的事項</h2><p>開啟MCP功能實際上是讓Claude獲得了有限的檔案系統存取權限。雖然每次操作前Claude都會徵求你的許可，但仍有一些安全注意事項：</p>
<ol>
<li>只添加你願意讓Claude訪問的資料夾路徑</li>
<li>定期檢查你的配置檔案，確保未被意外修改</li>
<li>不要讓Claude訪問包含敏感資訊的資料夾</li>
</ol>
<h2 id="展望未來：MCP的無限可能"><a href="#展望未來：MCP的無限可能" class="headerlink" title="展望未來：MCP的無限可能"></a>展望未來：MCP的無限可能</h2><p>MCP功能目前仍處於初期階段，只是冰山一角。根據Anthropic的發展路線，未來可能會有更多類型的MCP服務器，讓Claude能夠：</p>
<ul>
<li>與其他應用程式整合</li>
<li>幫助你自動化工作流程</li>
<li>處理和分析更複雜的本地數據</li>
<li>甚至可能成為你電腦上的智能代理</li>
</ul>
<h2 id="結語：與未來共舞"><a href="#結語：與未來共舞" class="headerlink" title="結語：與未來共舞"></a>結語：與未來共舞</h2><p>啟用Claude的MCP功能就像是提前體驗了AI助手的未來形態。它不再只是一個聊天框，而是真正能夠理解和操作你數位世界的智能助手。</p>
<p>我已經開始用Claude整理我雜亂的桌面、分析我的數據文件，甚至幫我草擬並儲存文章草稿。每天下班前，我都會請Claude幫我整理當天的工作文件，效率提升明顯。</p>
<p>如果你也是Claude桌面版的使用者，強烈建議你花幾分鐘設定這個功能。就像我的同事說的：「用過MCP功能後，你會懷疑自己以前是怎麼沒有它的」。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" title="下一頁" aria-label="下一頁" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">null </a>
  </div>
  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">kyosora</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="總字數">303k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">4:35</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="訪客總數">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="總瀏覽次數">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="回到頂端">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/yourname" class="github-corner" title="在 GitHub 上關注我" aria-label="在 GitHub 上關注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":null,"repo":null,"client_id":null,"client_secret":null,"admin_user":null,"distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":null,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"6666cd76f96956469e7be39d750cc7d9"}</script>
<script src="/js/third-party/comments/gitalk.js" defer></script>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"kyosora/kyosora.github.io","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js" defer></script>

</body>
</html>
